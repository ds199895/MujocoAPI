<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
    <link sizes="16x16" href="../_static/favicons/favicon-16x16.png" rel="icon" type="image/png">
    <link sizes="32x32" href="../_static/favicons/favicon-32x32.png" rel="icon" type="image/png">
    <link rel="apple-touch-icon" sizes="180x180" href="../_static/favicons/favicon-180x180.png" type="image/png">
    <link sizes="180x180" href="../_static/favicons/favicon-180x180.png" rel="icon" type="image/png">
    <link sizes="192x192" href="../_static/favicons/favicon-192x192.png" rel="icon" type="image/png"><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Globals" href="APIglobals.html" /><link rel="prev" title="Types" href="APItypes.html" />

    <meta name="generator" content="sphinx-4.5.0, furo 2022.09.29"/>
        <title>Functions - MuJoCo Documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=d81277517bee4d6b0349d71bb2661d4890b5617c" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/katex-math.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../_static/theme_overrides.css" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --font-stack--monospace: Inconsolata,Consolas,ui-monospace,monospace;
  --at-color: #bc103e;
  --at-val-color: #bc103e;
  --body-color: #14234b;
  --color-highlight-on-target: #e5e8ed;
  --primary-header-color: #0053d6;
  --row-odd-background-color: #f0f3f7;
  --rst-content-a-color: #2980b9;
  --secondary-header-color: #123693;
  --wy-menu-vertical-background-color: #0053d6;
  --wy-menu-vertical-color: white;
  --wy-nav-side-background-color: #0053d6;
  --admonition-font-size: 1rem;
  --admonition-title-font-size: 1rem;
  --sidebar-item-font-size: 115%;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  --at-color: #ff95a6;
  --at-val-color: #ff95a6;
  --body-color: #14234b;
  --color-admonition-background: #1e1e21;
  --color-highlight-on-target: #3d4045;
  --primary-header-color: #a8caff;
  --row-odd-background-color: #222326;
  --rst-content-a-color: #2980b9;
  --secondary-header-color: #458dff;
  --wy-menu-vertical-background-color: #0053d6;
  --wy-menu-vertical-color: white;
  --wy-nav-side-background-color: #0053d6;
  --admonition-font-size: 1rem;
  --admonition-title-font-size: 1rem;
  --sidebar-item-font-size: 115%;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  --at-color: #ff95a6;
  --at-val-color: #ff95a6;
  --body-color: #14234b;
  --color-admonition-background: #1e1e21;
  --color-highlight-on-target: #3d4045;
  --primary-header-color: #a8caff;
  --row-odd-background-color: #222326;
  --rst-content-a-color: #2980b9;
  --secondary-header-color: #458dff;
  --wy-menu-vertical-background-color: #0053d6;
  --wy-menu-vertical-color: white;
  --wy-nav-side-background-color: #0053d6;
  --admonition-font-size: 1rem;
  --admonition-title-font-size: 1rem;
  --sidebar-item-font-size: 115%;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">MuJoCo Documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/banner.svg" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">MuJoCo Documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../computation.html">Computation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modeling.html">Modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../XMLreference.html">XML Reference</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../programming/index.html">Programming</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../programming/simulation.html">Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../programming/visualization.html">Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../programming/samples.html">Code samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../programming/extension.html">Extensions</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">API Reference</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="APItypes.html">Types</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="APIglobals.html">Globals</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../python.html">Python Bindings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unity.html">Unity Plug-in</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models.html">Model Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="functions">
<span id="api"></span><h1>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">#</a></h1>
<p>The main header <a class="reference external" href="https://github.com/deepmind/mujoco/blob/main/include/mujoco/mujoco.h">mujoco.h</a> exposes a large
number of functions. However the functions that most users are likely to need are a small fraction.</p>
<p>主要的头文件 mujoco.h 定义了大量的函数。然而，大多数用户可能需要的函数只占其中的一小部分。</p>
<p>API function can be classified as:</p>
<p>API函数可以分类为：</p>
<ul>
<li><p><a class="reference internal" href="#parseandcompile"><span class="std std-ref">Parse and compile</span></a> an <a class="reference internal" href="APItypes.html#mjmodel"><span class="std std-ref">mjModel</span></a> from XML files and assets.</p>
<p><a class="reference internal" href="#parseandcompile"><span class="std std-ref">Parse and compile</span></a> 从XML文件和资源中解析和编译一个 <a class="reference internal" href="APItypes.html#mjmodel"><span class="std std-ref">mjModel</span></a> 。</p>
</li>
<li><p><a class="reference internal" href="#mainsimulation"><span class="std std-ref">Main simulation</span></a> entry points, including <a class="reference internal" href="#mj-step"><span class="std std-ref">mj_step</span></a>.</p></li>
<li><p><a class="reference internal" href="#support"><span class="std std-ref">Support</span></a> functions requiring <a class="reference internal" href="APItypes.html#mjmodel"><span class="std std-ref">mjModel</span></a> and <a class="reference internal" href="APItypes.html#mjdata"><span class="std std-ref">mjData</span></a>.</p></li>
<li><p><a class="reference internal" href="#components"><span class="std std-ref">Components</span></a> of the simulation pipeline, called from <a class="reference internal" href="#mj-step"><span class="std std-ref">mj_step</span></a>, <a class="reference internal" href="#mj-forward"><span class="std std-ref">mj_forward</span></a> and <a class="reference internal" href="#mj-inverse"><span class="std std-ref">mj_inverse</span></a>.</p></li>
<li><p><a class="reference internal" href="#subcomponents"><span class="std std-ref">Sub components</span></a> of the simulation pipeline.</p></li>
<li><p><a class="reference internal" href="#raycollisions"><span class="std std-ref">Ray collisions</span></a>.</p></li>
<li><p><a class="reference internal" href="#printing"><span class="std std-ref">Printing</span></a> of various quantities.</p></li>
<li><p><a class="reference internal" href="#virtualfilesystem"><span class="std std-ref">Virtual file system</span></a>, used to load assets from memory.</p></li>
<li><p><a class="reference internal" href="#initialization"><span class="std std-ref">Initialization</span></a> of data structures.</p></li>
<li><p><a class="reference internal" href="#interaction"><span class="std std-ref">Abstract interaction</span></a>: mouse control of cameras and perturbations.</p></li>
<li><p><a class="reference internal" href="#visualization-api"><span class="std std-ref">Abstract Visualization</span></a>.</p></li>
<li><p><a class="reference internal" href="#openglrendering"><span class="std std-ref">OpenGL rendering</span></a>.</p></li>
<li><p><a class="reference internal" href="#uiframework"><span class="std std-ref">UI framework</span></a>.</p></li>
<li><p><a class="reference internal" href="#errorandmemory"><span class="std std-ref">Error and memory</span></a>.</p></li>
<li><p><a class="reference internal" href="#standardmath"><span class="std std-ref">Aliases for C standard math</span></a> functions.</p></li>
<li><p><a class="reference internal" href="#vectormath"><span class="std std-ref">Vector math</span></a>.</p></li>
<li><p><a class="reference internal" href="#quaternions"><span class="std std-ref">Quaternions</span></a>.</p></li>
<li><p><a class="reference internal" href="#poses"><span class="std std-ref">Poses transformations</span></a>.</p></li>
<li><p><a class="reference internal" href="#decompositions"><span class="std std-ref">Matrix decompositions and solvers</span></a>.</p></li>
<li><p><a class="reference internal" href="#miscellaneous"><span class="std std-ref">Miscellaneous</span></a> functions.</p></li>
<li><p><a class="reference internal" href="#derivatives-api"><span class="std std-ref">Derivatives</span></a>.</p></li>
<li><p><a class="reference internal" href="#plugins-api"><span class="std std-ref">Plugin</span></a> related functions.</p></li>
<li><p><a class="reference internal" href="#macros"><span class="std std-ref">Macros</span></a>.</p></li>
</ul>
<section id="parse-and-compile">
<span id="parseandcompile"></span><h2>Parse and compile 解码与编译<a class="headerlink" href="#parse-and-compile" title="Permalink to this headline">#</a></h2>
<p>The key function here is <a class="reference internal" href="#mj-loadxml"><span class="std std-ref">mj_loadXML</span></a>. It invokes the built-in parser and compiler, and either returns a pointer to
a valid mjModel, or NULL - in which case the user should check the error information in the user-provided string.
The model and all files referenced in it can be loaded from disk or from a VFS when provided.</p>
<section id="mj-loadxml">
<span id="id1"></span><h3>mj_loadXML<a class="headerlink" href="#mj-loadxml" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="nf">mj_loadXML</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjVFS</span><span class="o">*</span><span class="w"> </span><span class="n">vfs</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">error</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">error_sz</span><span class="p">);</span>
</pre></div>
</div>
<p>Parse XML file in MJCF or URDF format, compile it, return low-level model.
If vfs is not NULL, look up files in vfs before reading from disk.
If error is not NULL, it must have size error_sz.</p>
</section>
<section id="mj-savelastxml">
<span id="id2"></span><h3>mj_saveLastXML<a class="headerlink" href="#mj-savelastxml" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mj_saveLastXML</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">error</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">error_sz</span><span class="p">);</span>
</pre></div>
</div>
<p>Update XML data structures with info from low-level model, save as MJCF.
If error is not NULL, it must have size error_sz.</p>
</section>
<section id="mj-freelastxml">
<span id="id3"></span><h3>mj_freeLastXML<a class="headerlink" href="#mj-freelastxml" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_freeLastXML</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</pre></div>
</div>
<p>Free last XML model if loaded. Called internally at each load.</p>
</section>
<section id="mj-printschema">
<span id="id4"></span><h3>mj_printSchema<a class="headerlink" href="#mj-printschema" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mj_printSchema</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">buffer_sz</span><span class="p">,</span>
<span class="w">                   </span><span class="kt">int</span><span class="w"> </span><span class="n">flg_html</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">flg_pad</span><span class="p">);</span>
</pre></div>
</div>
<p>Print internal XML schema as plain text or HTML, with style-padding or <code class="docutils literal notranslate"><span class="pre">&amp;nbsp;</span></code>.</p>
</section>
</section>
<section id="main-simulation">
<span id="mainsimulation"></span><h2>Main simulation<a class="headerlink" href="#main-simulation" title="Permalink to this headline">#</a></h2>
<p>These are the main entry points to the simulator. Most users will only need to call <a class="reference internal" href="#mj-step"><span class="std std-ref">mj_step</span></a>, which computes
everything and advanced the simulation state by one time step. Controls and applied forces must either be set in advance
(in mjData.{ctrl, qfrc_applied, xfrc_applied}), or a control callback <a class="reference internal" href="APIglobals.html#mjcb-control"><span class="std std-ref">mjcb_control</span></a> must be installed which will be
called just before the controls and applied forces are needed. Alternatively, one can use <a class="reference internal" href="#mj-step1"><span class="std std-ref">mj_step1</span></a> and
<a class="reference internal" href="#mj-step2"><span class="std std-ref">mj_step2</span></a> which break down the simulation pipeline into computations that are executed before and after the
controls are needed; in this way one can set controls that depend on the results from <a class="reference internal" href="#mj-step1"><span class="std std-ref">mj_step1</span></a>. Keep in mind
though that the RK4 solver does not work with mj_step1/2.</p>
<p>mj_forward performs the same computations as <a class="reference internal" href="#mj-step"><span class="std std-ref">mj_step</span></a> but without the integration. It is useful after loading or
resetting a model (to put the entire mjData in a valid state), and also for out-of-order computations that involve
sampling or finite-difference approximations.</p>
<p>mj_inverse runs the inverse dynamics, and writes its output in <code class="docutils literal notranslate"><span class="pre">mjData.qfrc_inverse</span></code>. Note that <code class="docutils literal notranslate"><span class="pre">mjData.qacc</span></code> must
be set before calling this function. Given the state (qpos, qvel, act), mj_forward maps from force to acceleration,
while mj_inverse maps from acceleration to force. Mathematically these functions are inverse of each other, but
numerically this may not always be the case because the forward dynamics rely on a constraint optimization algorithm
which is usually terminated early. The difference between the results of forward and inverse dynamics can be computed
with the function <a class="reference internal" href="#mj-comparefwdinv"><span class="std std-ref">mj_compareFwdInv</span></a>, which can be thought of as another solver accuracy check (as well as a general
sanity check).</p>
<p>The skip version of <a class="reference internal" href="#mj-forward"><span class="std std-ref">mj_forward</span></a> and <a class="reference internal" href="#mj-inverse"><span class="std std-ref">mj_inverse</span></a> are useful for example when qpos was unchanged but qvel was
changed (usually in the context of finite differencing). Then there is no point repeating the computations that only
depend on qpos. Calling the dynamics with skipstage = mjSTAGE_POS will achieve these savings.</p>
<section id="mj-step">
<span id="id5"></span><h3>mj_step<a class="headerlink" href="#mj-step" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_step</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Advance simulation, use control callback to obtain external force and control.</p>
</section>
<section id="mj-step1">
<span id="id6"></span><h3>mj_step1<a class="headerlink" href="#mj-step1" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_step1</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Advance simulation in two steps: before external force and control is set by user.</p>
</section>
<section id="mj-step2">
<span id="id7"></span><h3>mj_step2<a class="headerlink" href="#mj-step2" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_step2</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Advance simulation in two steps: after external force and control is set by user.</p>
</section>
<section id="mj-forward">
<span id="id8"></span><h3>mj_forward<a class="headerlink" href="#mj-forward" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_forward</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Forward dynamics: same as mj_step but do not integrate in time.</p>
</section>
<section id="mj-inverse">
<span id="id9"></span><h3>mj_inverse<a class="headerlink" href="#mj-inverse" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_inverse</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Inverse dynamics: qacc must be set before calling.</p>
</section>
<section id="mj-forwardskip">
<span id="id10"></span><h3>mj_forwardSkip<a class="headerlink" href="#mj-forwardskip" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_forwardSkip</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">skipstage</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">skipsensor</span><span class="p">);</span>
</pre></div>
</div>
<p>Forward dynamics with skip; skipstage is mjtStage.</p>
</section>
<section id="mj-inverseskip">
<span id="id11"></span><h3>mj_inverseSkip<a class="headerlink" href="#mj-inverseskip" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_inverseSkip</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">skipstage</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">skipsensor</span><span class="p">);</span>
</pre></div>
</div>
<p>Inverse dynamics with skip; skipstage is mjtStage.</p>
</section>
</section>
<section id="support">
<span id="id12"></span><h2>Support<a class="headerlink" href="#support" title="Permalink to this headline">#</a></h2>
<p>These are support functions that need access to <a class="reference internal" href="APItypes.html#mjmodel"><span class="std std-ref">mjModel</span></a> and <a class="reference internal" href="APItypes.html#mjdata"><span class="std std-ref">mjData</span></a>, unlike the utility functions which do
not need such access. Support functions are called within the simulator but some of them can also be useful for custom
computations, and are documented in more detail below.</p>
<section id="mj-statesize">
<span id="id13"></span><h3>mj_stateSize<a class="headerlink" href="#mj-statesize" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mj_stateSize</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">spec</span><span class="p">);</span>
</pre></div>
</div>
<p>Returns the number of <a class="reference internal" href="APItypes.html#mjtnum"><span class="std std-ref">mjtNum</span></a>⁠s required for a given state specification. The bits of the integer <code class="docutils literal notranslate"><span class="pre">spec</span></code>
correspond to element fields of <a class="reference internal" href="APItypes.html#mjtstate"><span class="std std-ref">mjtState</span></a>.</p>
</section>
<section id="mj-getstate">
<span id="id14"></span><h3>mj_getState<a class="headerlink" href="#mj-getstate" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_getState</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">state</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">spec</span><span class="p">);</span>
</pre></div>
</div>
<p>Copy concatenated state components specified by <code class="docutils literal notranslate"><span class="pre">spec</span></code> from <code class="docutils literal notranslate"><span class="pre">d</span></code> into <code class="docutils literal notranslate"><span class="pre">state</span></code>. The bits of the integer
<code class="docutils literal notranslate"><span class="pre">spec</span></code> correspond to element fields of <a class="reference internal" href="APItypes.html#mjtstate"><span class="std std-ref">mjtState</span></a>. Fails with <a class="reference internal" href="#mju-error"><span class="std std-ref">mju_error</span></a> if <code class="docutils literal notranslate"><span class="pre">spec</span></code> is invalid.</p>
</section>
<section id="mj-setstate">
<span id="id15"></span><h3>mj_setState<a class="headerlink" href="#mj-setstate" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_setState</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">state</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">spec</span><span class="p">);</span>
</pre></div>
</div>
<p>Copy concatenated state components specified by <code class="docutils literal notranslate"><span class="pre">spec</span></code> from  <code class="docutils literal notranslate"><span class="pre">state</span></code> into <code class="docutils literal notranslate"><span class="pre">d</span></code>. The bits of the integer
<code class="docutils literal notranslate"><span class="pre">spec</span></code> correspond to element fields of <a class="reference internal" href="APItypes.html#mjtstate"><span class="std std-ref">mjtState</span></a>. Fails with <a class="reference internal" href="#mju-error"><span class="std std-ref">mju_error</span></a> if <code class="docutils literal notranslate"><span class="pre">spec</span></code> is invalid.</p>
</section>
<section id="mj-addcontact">
<span id="id16"></span><h3>mj_addContact<a class="headerlink" href="#mj-addcontact" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mj_addContact</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjContact</span><span class="o">*</span><span class="w"> </span><span class="n">con</span><span class="p">);</span>
</pre></div>
</div>
<p>Add contact to d-&gt;contact list; return 0 if success; 1 if buffer full.</p>
</section>
<section id="mj-ispyramidal">
<span id="id17"></span><h3>mj_isPyramidal<a class="headerlink" href="#mj-ispyramidal" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mj_isPyramidal</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">);</span>
</pre></div>
</div>
<p>Determine type of friction cone.</p>
</section>
<section id="mj-issparse">
<span id="id18"></span><h3>mj_isSparse<a class="headerlink" href="#mj-issparse" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mj_isSparse</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">);</span>
</pre></div>
</div>
<p>Determine type of constraint Jacobian.</p>
</section>
<section id="mj-isdual">
<span id="id19"></span><h3>mj_isDual<a class="headerlink" href="#mj-isdual" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mj_isDual</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">);</span>
</pre></div>
</div>
<p>Determine type of solver (PGS is dual, CG and Newton are primal).</p>
</section>
<section id="mj-muljacvec">
<span id="id20"></span><h3>mj_mulJacVec<a class="headerlink" href="#mj-muljacvec" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_mulJacVec</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">vec</span><span class="p">);</span>
</pre></div>
</div>
<p>This function multiplies the constraint Jacobian <a class="reference internal" href="APItypes.html#mjdata"><span class="std std-ref">mjData</span></a>.efc_J by a vector. Note that the Jacobian can be either dense or
sparse; the function is aware of this setting. Multiplication by J maps velocities from joint space to constraint space.</p>
</section>
<section id="mj-muljactvec">
<span id="id21"></span><h3>mj_mulJacTVec<a class="headerlink" href="#mj-muljactvec" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_mulJacTVec</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">vec</span><span class="p">);</span>
</pre></div>
</div>
<p>Same as mj_mulJacVec but multiplies by the transpose of the Jacobian. This maps forces from constraint space to joint
space.</p>
</section>
<section id="mj-jac">
<span id="id22"></span><h3>mj_jac<a class="headerlink" href="#mj-jac" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_jac</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">jacp</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">jacr</span><span class="p">,</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">point</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">body</span><span class="p">);</span>
</pre></div>
</div>
<p>This function computes an end-effector kinematic Jacobian, describing the local linear relationship between the
degrees-of-freedom and a given point. Given a body specified by its integer id (<code class="docutils literal notranslate"><span class="pre">body</span></code>) and a 3D point in the world
frame (<code class="docutils literal notranslate"><span class="pre">point</span></code>) treated as attached to the body, the Jacobian has both translational (<code class="docutils literal notranslate"><span class="pre">jacp</span></code>) and rotational
(<code class="docutils literal notranslate"><span class="pre">jacr</span></code>) components. Passing <code class="docutils literal notranslate"><span class="pre">NULL</span></code> for either pointer will skip that part of the computation. Each component is a
3-by-nv matrix. Each row of this matrix is the gradient of the corresponding coordinate of the specified point with
respect to the degrees-of-freedom. The ability to compute end-effector Jacobians efficiently and analytically is one of
the advantages of working in minimal coordinates.</p>
</section>
<section id="mj-jacbody">
<span id="id23"></span><h3>mj_jacBody<a class="headerlink" href="#mj-jacbody" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_jacBody</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">jacp</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">jacr</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">body</span><span class="p">);</span>
</pre></div>
</div>
<p>This and the remaining variants of the Jacobian function call mj_jac internally, with the center of the body, geom or
site. They are just shortcuts; the same can be achieved by calling mj_jac directly.</p>
</section>
<section id="mj-jacbodycom">
<span id="id24"></span><h3>mj_jacBodyCom<a class="headerlink" href="#mj-jacbodycom" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_jacBodyCom</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">jacp</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">jacr</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">body</span><span class="p">);</span>
</pre></div>
</div>
<p>Compute body center-of-mass end-effector Jacobian.</p>
</section>
<section id="mj-jacsubtreecom">
<span id="id25"></span><h3>mj_jacSubtreeCom<a class="headerlink" href="#mj-jacsubtreecom" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_jacSubtreeCom</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">jacp</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">body</span><span class="p">);</span>
</pre></div>
</div>
<p>Compute subtree center-of-mass end-effector Jacobian.</p>
</section>
<section id="mj-jacgeom">
<span id="id26"></span><h3>mj_jacGeom<a class="headerlink" href="#mj-jacgeom" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_jacGeom</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">jacp</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">jacr</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">geom</span><span class="p">);</span>
</pre></div>
</div>
<p>Compute geom end-effector Jacobian.</p>
</section>
<section id="mj-jacsite">
<span id="id27"></span><h3>mj_jacSite<a class="headerlink" href="#mj-jacsite" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_jacSite</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">jacp</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">jacr</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">site</span><span class="p">);</span>
</pre></div>
</div>
<p>Compute site end-effector Jacobian.</p>
</section>
<section id="mj-jacpointaxis">
<span id="id28"></span><h3>mj_jacPointAxis<a class="headerlink" href="#mj-jacpointaxis" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_jacPointAxis</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">jacPoint</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">jacAxis</span><span class="p">,</span>
<span class="w">                     </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">point</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">axis</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">body</span><span class="p">);</span>
</pre></div>
</div>
<p>Compute translation end-effector Jacobian of point, and rotation Jacobian of axis.</p>
</section>
<section id="mj-name2id">
<span id="id29"></span><h3>mj_name2id<a class="headerlink" href="#mj-name2id" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mj_name2id</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">);</span>
</pre></div>
</div>
<p>Get id of object with the specified mjtObj type and name, returns -1 if id not found.</p>
</section>
<section id="mj-id2name">
<span id="id30"></span><h3>mj_id2name<a class="headerlink" href="#mj-id2name" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">mj_id2name</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">id</span><span class="p">);</span>
</pre></div>
</div>
<p>Get name of object with the specified mjtObj type and id, returns NULL if name not found.</p>
</section>
<section id="mj-fullm">
<span id="id31"></span><h3>mj_fullM<a class="headerlink" href="#mj-fullm" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_fullM</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">M</span><span class="p">);</span>
</pre></div>
</div>
<p>Convert sparse inertia matrix M into full (i.e. dense) matrix.</p>
</section>
<section id="mj-mulm">
<span id="id32"></span><h3>mj_mulM<a class="headerlink" href="#mj-mulm" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_mulM</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">vec</span><span class="p">);</span>
</pre></div>
</div>
<p>This function multiplies the joint-space inertia matrix stored in <a class="reference internal" href="APItypes.html#mjdata"><span class="std std-ref">mjData</span></a>.qM by a vector. qM has a custom sparse format
that the user should not attempt to manipulate directly. Alternatively one can convert qM to a dense matrix with
mj_fullM and then user regular matrix-vector multiplication, but this is slower because it no longer benefits from
sparsity.</p>
</section>
<section id="mj-mulm2">
<span id="id33"></span><h3>mj_mulM2<a class="headerlink" href="#mj-mulm2" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_mulM2</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">vec</span><span class="p">);</span>
</pre></div>
</div>
<p>Multiply vector by (inertia matrix)^(1/2).</p>
</section>
<section id="mj-addm">
<span id="id34"></span><h3>mj_addM<a class="headerlink" href="#mj-addm" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_addM</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">rownnz</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">rowadr</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">colind</span><span class="p">);</span>
</pre></div>
</div>
<p>Add inertia matrix to destination matrix.
Destination can be sparse uncompressed, or dense when all int* are NULL</p>
</section>
<section id="mj-applyft">
<span id="id35"></span><h3>mj_applyFT<a class="headerlink" href="#mj-applyft" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_applyFT</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">force</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">torque</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
<span class="w">                </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">point</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">body</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">qfrc_target</span><span class="p">);</span>
</pre></div>
</div>
<p>This function can be used to apply a Cartesian force and torque to a point on a body, and add the result to the vector
<a class="reference internal" href="APItypes.html#mjdata"><span class="std std-ref">mjData</span></a>.qfrc_applied of all applied forces. Note that the function requires a pointer to this vector, because sometimes
we want to add the result to a different vector.</p>
</section>
<section id="mj-objectvelocity">
<span id="id36"></span><h3>mj_objectVelocity<a class="headerlink" href="#mj-objectvelocity" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_objectVelocity</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span>
<span class="w">                       </span><span class="kt">int</span><span class="w"> </span><span class="n">objtype</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">objid</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">flg_local</span><span class="p">);</span>
</pre></div>
</div>
<p>Compute object 6D velocity (rot:lin) in object-centered frame, world/local orientation.</p>
</section>
<section id="mj-objectacceleration">
<span id="id37"></span><h3>mj_objectAcceleration<a class="headerlink" href="#mj-objectacceleration" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_objectAcceleration</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span>
<span class="w">                           </span><span class="kt">int</span><span class="w"> </span><span class="n">objtype</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">objid</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">flg_local</span><span class="p">);</span>
</pre></div>
</div>
<p>Compute object 6D acceleration (rot:lin) in object-centered frame, world/local orientation.</p>
</section>
<section id="mj-contactforce">
<span id="id38"></span><h3>mj_contactForce<a class="headerlink" href="#mj-contactforce" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_contactForce</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">result</span><span class="p">[</span><span class="mi">6</span><span class="p">]);</span>
</pre></div>
</div>
<p>Extract 6D force:torque given contact id, in the contact frame.</p>
</section>
<section id="mj-differentiatepos">
<span id="id39"></span><h3>mj_differentiatePos<a class="headerlink" href="#mj-differentiatepos" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_differentiatePos</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">qvel</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">dt</span><span class="p">,</span>
<span class="w">                         </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">qpos1</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">qpos2</span><span class="p">);</span>
</pre></div>
</div>
<p>This function subtracts two vectors in the format of qpos (and divides the result by dt), while respecting the
properties of quaternions. Recall that unit quaternions represent spatial orientations. They are points on the unit
sphere in 4D. The tangent to that sphere is a 3D plane of rotational velocities. Thus when we subtract two quaternions
in the right way, the result is a 3D vector and not a 4D vector. This the output qvel has dimensionality nv while the
inputs have dimensionality nq.</p>
</section>
<section id="mj-integratepos">
<span id="id40"></span><h3>mj_integratePos<a class="headerlink" href="#mj-integratepos" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_integratePos</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">qpos</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">qvel</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">dt</span><span class="p">);</span>
</pre></div>
</div>
<p>This is the opposite of mj_differentiatePos. It adds a vector in the format of qvel (scaled by dt) to a vector in the
format of qpos.</p>
</section>
<section id="mj-normalizequat">
<span id="id41"></span><h3>mj_normalizeQuat<a class="headerlink" href="#mj-normalizequat" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_normalizeQuat</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">qpos</span><span class="p">);</span>
</pre></div>
</div>
<p>Normalize all quaternions in qpos-type vector.</p>
</section>
<section id="mj-local2global">
<span id="id42"></span><h3>mj_local2Global<a class="headerlink" href="#mj-local2global" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_local2Global</span><span class="p">(</span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">xpos</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">xmat</span><span class="p">[</span><span class="mi">9</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">pos</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
<span class="w">                     </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">quat</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">body</span><span class="p">,</span><span class="w"> </span><span class="n">mjtByte</span><span class="w"> </span><span class="n">sameframe</span><span class="p">);</span>
</pre></div>
</div>
<p>Map from body local to global Cartesian coordinates.</p>
</section>
<section id="mj-gettotalmass">
<span id="id43"></span><h3>mj_getTotalmass<a class="headerlink" href="#mj-gettotalmass" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mj_getTotalmass</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">);</span>
</pre></div>
</div>
<p>Sum all body masses.</p>
</section>
<section id="mj-settotalmass">
<span id="id44"></span><h3>mj_setTotalmass<a class="headerlink" href="#mj-settotalmass" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_setTotalmass</span><span class="p">(</span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">newmass</span><span class="p">);</span>
</pre></div>
</div>
<p>Scale body masses and inertias to achieve specified total mass.</p>
</section>
<section id="mj-getpluginconfig">
<span id="id45"></span><h3>mj_getPluginConfig<a class="headerlink" href="#mj-getpluginconfig" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">mj_getPluginConfig</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">plugin_id</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">attrib</span><span class="p">);</span>
</pre></div>
</div>
<p>Return a config attribute value of a plugin instance;
NULL: invalid plugin instance ID or attribute name</p>
</section>
<section id="mj-loadpluginlibrary">
<span id="id46"></span><h3>mj_loadPluginLibrary<a class="headerlink" href="#mj-loadpluginlibrary" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_loadPluginLibrary</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">path</span><span class="p">);</span>
</pre></div>
</div>
<p>Load a dynamic library. The dynamic library is assumed to register one or more plugins.</p>
</section>
<section id="mj-loadallpluginlibraries">
<span id="id47"></span><h3>mj_loadAllPluginLibraries<a class="headerlink" href="#mj-loadallpluginlibraries" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_loadAllPluginLibraries</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">directory</span><span class="p">,</span><span class="w"> </span><span class="n">mjfPluginLibraryLoadCallback</span><span class="w"> </span><span class="n">callback</span><span class="p">);</span>
</pre></div>
</div>
<p>Scan a directory and load all dynamic libraries. Dynamic libraries in the specified directory
are assumed to register one or more plugins. Optionally, if a callback is specified, it is called
for each dynamic library encountered that registers plugins.</p>
</section>
<section id="mj-version">
<span id="id48"></span><h3>mj_version<a class="headerlink" href="#mj-version" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mj_version</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</pre></div>
</div>
<p>Return version number: 1.0.2 is encoded as 102.</p>
</section>
<section id="mj-versionstring">
<span id="id49"></span><h3>mj_versionString<a class="headerlink" href="#mj-versionstring" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">mj_versionString</span><span class="p">();</span>
</pre></div>
</div>
<p>Return the current version of MuJoCo as a null-terminated string.</p>
</section>
</section>
<section id="components">
<span id="id50"></span><h2>Components<a class="headerlink" href="#components" title="Permalink to this headline">#</a></h2>
<p>These are components of the simulation pipeline, called internally from <a class="reference internal" href="#mj-step"><span class="std std-ref">mj_step</span></a>, <a class="reference internal" href="#mj-forward"><span class="std std-ref">mj_forward</span></a> and
<a class="reference internal" href="#mj-inverse"><span class="std std-ref">mj_inverse</span></a>. It is unlikely that the user will need to call them.</p>
<section id="mj-fwdposition">
<span id="id51"></span><h3>mj_fwdPosition<a class="headerlink" href="#mj-fwdposition" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_fwdPosition</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Run position-dependent computations.</p>
</section>
<section id="mj-fwdvelocity">
<span id="id52"></span><h3>mj_fwdVelocity<a class="headerlink" href="#mj-fwdvelocity" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_fwdVelocity</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Run velocity-dependent computations.</p>
</section>
<section id="mj-fwdactuation">
<span id="id53"></span><h3>mj_fwdActuation<a class="headerlink" href="#mj-fwdactuation" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_fwdActuation</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Compute actuator force qfrc_actuator.</p>
</section>
<section id="mj-fwdacceleration">
<span id="id54"></span><h3>mj_fwdAcceleration<a class="headerlink" href="#mj-fwdacceleration" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_fwdAcceleration</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Add up all non-constraint forces, compute qacc_smooth.</p>
</section>
<section id="mj-fwdconstraint">
<span id="id55"></span><h3>mj_fwdConstraint<a class="headerlink" href="#mj-fwdconstraint" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_fwdConstraint</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Run selected constraint solver.</p>
</section>
<section id="mj-euler">
<span id="id56"></span><h3>mj_Euler<a class="headerlink" href="#mj-euler" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_Euler</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Euler integrator, semi-implicit in velocity.</p>
</section>
<section id="mj-rungekutta">
<span id="id57"></span><h3>mj_RungeKutta<a class="headerlink" href="#mj-rungekutta" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_RungeKutta</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="p">);</span>
</pre></div>
</div>
<p>Runge-Kutta explicit order-N integrator.</p>
</section>
<section id="mj-invposition">
<span id="id58"></span><h3>mj_invPosition<a class="headerlink" href="#mj-invposition" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_invPosition</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Run position-dependent computations in inverse dynamics.</p>
</section>
<section id="mj-invvelocity">
<span id="id59"></span><h3>mj_invVelocity<a class="headerlink" href="#mj-invvelocity" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_invVelocity</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Run velocity-dependent computations in inverse dynamics.</p>
</section>
<section id="mj-invconstraint">
<span id="id60"></span><h3>mj_invConstraint<a class="headerlink" href="#mj-invconstraint" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_invConstraint</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Apply the analytical formula for inverse constraint dynamics.</p>
</section>
<section id="mj-comparefwdinv">
<span id="id61"></span><h3>mj_compareFwdInv<a class="headerlink" href="#mj-comparefwdinv" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_compareFwdInv</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Compare forward and inverse dynamics, save results in fwdinv.</p>
</section>
</section>
<section id="sub-components">
<span id="subcomponents"></span><h2>Sub components<a class="headerlink" href="#sub-components" title="Permalink to this headline">#</a></h2>
<p>These are sub-components of the simulation pipeline, called internally from the components above. It is very unlikely
that the user will need to call them.</p>
<section id="mj-sensorpos">
<span id="id62"></span><h3>mj_sensorPos<a class="headerlink" href="#mj-sensorpos" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_sensorPos</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Evaluate position-dependent sensors.</p>
</section>
<section id="mj-sensorvel">
<span id="id63"></span><h3>mj_sensorVel<a class="headerlink" href="#mj-sensorvel" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_sensorVel</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Evaluate velocity-dependent sensors.</p>
</section>
<section id="mj-sensoracc">
<span id="id64"></span><h3>mj_sensorAcc<a class="headerlink" href="#mj-sensoracc" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_sensorAcc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Evaluate acceleration and force-dependent sensors.</p>
</section>
<section id="mj-energypos">
<span id="id65"></span><h3>mj_energyPos<a class="headerlink" href="#mj-energypos" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_energyPos</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Evaluate position-dependent energy (potential).</p>
</section>
<section id="mj-energyvel">
<span id="id66"></span><h3>mj_energyVel<a class="headerlink" href="#mj-energyvel" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_energyVel</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Evaluate velocity-dependent energy (kinetic).</p>
</section>
<section id="mj-checkpos">
<span id="id67"></span><h3>mj_checkPos<a class="headerlink" href="#mj-checkpos" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_checkPos</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Check qpos, reset if any element is too big or nan.</p>
</section>
<section id="mj-checkvel">
<span id="id68"></span><h3>mj_checkVel<a class="headerlink" href="#mj-checkvel" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_checkVel</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Check qvel, reset if any element is too big or nan.</p>
</section>
<section id="mj-checkacc">
<span id="id69"></span><h3>mj_checkAcc<a class="headerlink" href="#mj-checkacc" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_checkAcc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Check qacc, reset if any element is too big or nan.</p>
</section>
<section id="mj-kinematics">
<span id="id70"></span><h3>mj_kinematics<a class="headerlink" href="#mj-kinematics" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_kinematics</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Run forward kinematics.</p>
</section>
<section id="mj-compos">
<span id="id71"></span><h3>mj_comPos<a class="headerlink" href="#mj-compos" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_comPos</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Map inertias and motion dofs to global frame centered at CoM.</p>
</section>
<section id="mj-camlight">
<span id="id72"></span><h3>mj_camlight<a class="headerlink" href="#mj-camlight" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_camlight</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Compute camera and light positions and orientations.</p>
</section>
<section id="mj-tendon">
<span id="id73"></span><h3>mj_tendon<a class="headerlink" href="#mj-tendon" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_tendon</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Compute tendon lengths, velocities and moment arms.</p>
</section>
<section id="mj-transmission">
<span id="id74"></span><h3>mj_transmission<a class="headerlink" href="#mj-transmission" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_transmission</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Compute actuator transmission lengths and moments.</p>
</section>
<section id="mj-crb">
<span id="id75"></span><h3>mj_crb<a class="headerlink" href="#mj-crb" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_crb</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Run composite rigid body inertia algorithm (CRB).</p>
</section>
<section id="mj-factorm">
<span id="id76"></span><h3>mj_factorM<a class="headerlink" href="#mj-factorm" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_factorM</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Compute sparse <span class="math">\(L^T D L\)</span> factorizaton of inertia matrix.</p>
</section>
<section id="mj-solvem">
<span id="id77"></span><h3>mj_solveM<a class="headerlink" href="#mj-solvem" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_solveM</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>Solve linear system <span class="math">\(M x = y\)</span> using factorization: <span class="math">\(x = (L^T D L)^{-1} y\)</span></p>
</section>
<section id="mj-solvem2">
<span id="id78"></span><h3>mj_solveM2<a class="headerlink" href="#mj-solvem2" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_solveM2</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>Half of linear solve: <span class="math">\(x = \sqrt{D^{-1}} (L^T)^{-1} y\)</span></p>
</section>
<section id="mj-comvel">
<span id="id79"></span><h3>mj_comVel<a class="headerlink" href="#mj-comvel" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_comVel</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Compute cvel, cdof_dot.</p>
</section>
<section id="mj-passive">
<span id="id80"></span><h3>mj_passive<a class="headerlink" href="#mj-passive" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_passive</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Compute qfrc_passive from spring-dampers, viscosity and density.</p>
</section>
<section id="mj-subtreevel">
<span id="id81"></span><h3>mj_subtreeVel<a class="headerlink" href="#mj-subtreevel" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_subtreeVel</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>subtree linear velocity and angular momentum</p>
</section>
<section id="mj-rne">
<span id="id82"></span><h3>mj_rne<a class="headerlink" href="#mj-rne" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_rne</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">flg_acc</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">result</span><span class="p">);</span>
</pre></div>
</div>
<p>RNE: compute M(qpos)*qacc + C(qpos,qvel); flg_acc=0 removes inertial term.</p>
</section>
<section id="mj-rnepostconstraint">
<span id="id83"></span><h3>mj_rnePostConstraint<a class="headerlink" href="#mj-rnepostconstraint" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_rnePostConstraint</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>RNE with complete data: compute cacc, cfrc_ext, cfrc_int.</p>
</section>
<section id="mj-collision">
<span id="id84"></span><h3>mj_collision<a class="headerlink" href="#mj-collision" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_collision</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Run collision detection.</p>
</section>
<section id="mj-makeconstraint">
<span id="id85"></span><h3>mj_makeConstraint<a class="headerlink" href="#mj-makeconstraint" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_makeConstraint</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Construct constraints.</p>
</section>
<section id="mj-island">
<span id="id86"></span><h3>mj_island<a class="headerlink" href="#mj-island" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_island</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Find constraint islands.</p>
</section>
<section id="mj-projectconstraint">
<span id="id87"></span><h3>mj_projectConstraint<a class="headerlink" href="#mj-projectconstraint" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_projectConstraint</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Compute inverse constraint inertia efc_AR.</p>
</section>
<section id="mj-referenceconstraint">
<span id="id88"></span><h3>mj_referenceConstraint<a class="headerlink" href="#mj-referenceconstraint" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_referenceConstraint</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Compute efc_vel, efc_aref.</p>
</section>
<section id="mj-constraintupdate">
<span id="id89"></span><h3>mj_constraintUpdate<a class="headerlink" href="#mj-constraintupdate" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_constraintUpdate</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">jar</span><span class="p">,</span>
<span class="w">                         </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">cost</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">flg_coneHessian</span><span class="p">);</span>
</pre></div>
</div>
<p>Compute efc_state, efc_force, qfrc_constraint, and (optionally) cone Hessians. If cost is not NULL, set *cost = s(jar)
where jar = Jac*qacc-aref.</p>
</section>
</section>
<section id="ray-collisions">
<span id="raycollisions"></span><h2>Ray collisions<a class="headerlink" href="#ray-collisions" title="Permalink to this headline">#</a></h2>
<p>Ray collisions, also known as ray casting, find the distance <code class="docutils literal notranslate"><span class="pre">x</span></code> of a ray’s intersection with a geom, where a ray is
a line emanating from the 3D point <code class="docutils literal notranslate"><span class="pre">p</span></code> in the direction <code class="docutils literal notranslate"><span class="pre">v</span></code> i.e., <code class="docutils literal notranslate"><span class="pre">(p</span> <span class="pre">+</span> <span class="pre">x*v,</span> <span class="pre">x</span> <span class="pre">&gt;=</span> <span class="pre">0)</span></code>. All functions in this
family return the distance to the nearest geom surface, or -1 if there is no intersection. Note that if <code class="docutils literal notranslate"><span class="pre">p</span></code> is inside
a geom, the ray will intersect the surface from the inside which still counts as an intersection.</p>
<p>All ray collision functions rely on quantities computed by <a class="reference internal" href="#mj-kinematics"><span class="std std-ref">mj_kinematics</span></a> (see <a class="reference internal" href="APItypes.html#mjdata"><span class="std std-ref">mjData</span></a>), so must be called
after  <a class="reference internal" href="#mj-kinematics"><span class="std std-ref">mj_kinematics</span></a>, or functions that call it (e.g. <a class="reference internal" href="#mj-fwdposition"><span class="std std-ref">mj_fwdPosition</span></a>). The top level functions, which
intersect with all geoms types, are <a class="reference internal" href="#mj-ray"><span class="std std-ref">mj_ray</span></a> which casts a single ray, and <a class="reference internal" href="#mj-multiray"><span class="std std-ref">mj_multiRay</span></a> which casts multiple
rays from a single point.</p>
<section id="mj-multiray">
<span id="id90"></span><h3>mj_multiRay<a class="headerlink" href="#mj-multiray" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_multiRay</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">pnt</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">vec</span><span class="p">,</span>
<span class="w">                 </span><span class="k">const</span><span class="w"> </span><span class="n">mjtByte</span><span class="o">*</span><span class="w"> </span><span class="n">geomgroup</span><span class="p">,</span><span class="w"> </span><span class="n">mjtByte</span><span class="w"> </span><span class="n">flg_static</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">bodyexclude</span><span class="p">,</span>
<span class="w">                 </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">geomid</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">dist</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">nray</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">cutoff</span><span class="p">);</span>
</pre></div>
</div>
<p>Intersect multiple rays emanating from a single point.
Similar semantics to mj_ray, but vec is an array of (nray x 3) directions.</p>
</section>
<section id="mj-ray">
<span id="id91"></span><h3>mj_ray<a class="headerlink" href="#mj-ray" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mj_ray</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">pnt</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vec</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
<span class="w">              </span><span class="k">const</span><span class="w"> </span><span class="n">mjtByte</span><span class="o">*</span><span class="w"> </span><span class="n">geomgroup</span><span class="p">,</span><span class="w"> </span><span class="n">mjtByte</span><span class="w"> </span><span class="n">flg_static</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">bodyexclude</span><span class="p">,</span>
<span class="w">              </span><span class="kt">int</span><span class="w"> </span><span class="n">geomid</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
</pre></div>
</div>
<p>Intersect ray <code class="docutils literal notranslate"><span class="pre">(pnt+x*vec,</span> <span class="pre">x</span> <span class="pre">&gt;=</span> <span class="pre">0)</span></code> with visible geoms, except geoms in bodyexclude.</p>
<p>Return geomid and distance (x) to nearest surface, or -1 if no intersection.</p>
<p>geomgroup is an array of length mjNGROUP, where 1 means the group should be included. Pass geomgroup=NULL to skip
group exclusion.</p>
<p>If flg_static is 0, static geoms will be excluded.</p>
<p>bodyexclude=-1 can be used to indicate that all bodies are included.</p>
</section>
<section id="mj-rayhfield">
<span id="id92"></span><h3>mj_rayHfield<a class="headerlink" href="#mj-rayhfield" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mj_rayHfield</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">geomid</span><span class="p">,</span>
<span class="w">                    </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">pnt</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vec</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
</pre></div>
</div>
<p>Intersect ray with hfield, return nearest distance or -1 if no intersection.</p>
</section>
<section id="mj-raymesh">
<span id="id93"></span><h3>mj_rayMesh<a class="headerlink" href="#mj-raymesh" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mj_rayMesh</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">geomid</span><span class="p">,</span>
<span class="w">                  </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">pnt</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vec</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
</pre></div>
</div>
<p>Intersect ray with mesh, return nearest distance or -1 if no intersection.</p>
</section>
<section id="mju-raygeom">
<span id="id94"></span><h3>mju_rayGeom<a class="headerlink" href="#mju-raygeom" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mju_rayGeom</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">pos</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">mat</span><span class="p">[</span><span class="mi">9</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">size</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
<span class="w">                   </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">pnt</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vec</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">geomtype</span><span class="p">);</span>
</pre></div>
</div>
<p>Intersect ray with pure geom, return nearest distance or -1 if no intersection.</p>
</section>
<section id="mju-rayskin">
<span id="id95"></span><h3>mju_raySkin<a class="headerlink" href="#mju-rayskin" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mju_raySkin</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">nface</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">nvert</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">face</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">float</span><span class="o">*</span><span class="w"> </span><span class="n">vert</span><span class="p">,</span>
<span class="w">                   </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">pnt</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vec</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">vertid</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
</pre></div>
</div>
<p>Intersect ray with skin, return nearest distance or -1 if no intersection,
and also output nearest vertex id.</p>
</section>
</section>
<section id="printing">
<span id="id96"></span><h2>Printing<a class="headerlink" href="#printing" title="Permalink to this headline">#</a></h2>
<p>These functions can be used to print various quantities to the screen for debugging purposes.</p>
<section id="mj-printformattedmodel">
<span id="id97"></span><h3>mj_printFormattedModel<a class="headerlink" href="#mj-printformattedmodel" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_printFormattedModel</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">float_format</span><span class="p">);</span>
</pre></div>
</div>
<p>Print <a class="reference internal" href="APItypes.html#mjmodel"><span class="std std-ref">mjModel</span></a> to text file, specifying format.
float_format must be a valid printf-style format string for a single float value.</p>
</section>
<section id="mj-printmodel">
<span id="id98"></span><h3>mj_printModel<a class="headerlink" href="#mj-printmodel" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_printModel</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">filename</span><span class="p">);</span>
</pre></div>
</div>
<p>Print model to text file.</p>
</section>
<section id="mj-printformatteddata">
<span id="id99"></span><h3>mj_printFormattedData<a class="headerlink" href="#mj-printformatteddata" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_printFormattedData</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">filename</span><span class="p">,</span>
<span class="w">                           </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">float_format</span><span class="p">);</span>
</pre></div>
</div>
<p>Print <a class="reference internal" href="APItypes.html#mjdata"><span class="std std-ref">mjData</span></a> to text file, specifying format.
float_format must be a valid printf-style format string for a single float value</p>
</section>
<section id="mj-printdata">
<span id="id100"></span><h3>mj_printData<a class="headerlink" href="#mj-printdata" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_printData</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">filename</span><span class="p">);</span>
</pre></div>
</div>
<p>Print data to text file.</p>
</section>
<section id="mju-printmat">
<span id="id101"></span><h3>mju_printMat<a class="headerlink" href="#mju-printmat" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_printMat</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">nr</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">nc</span><span class="p">);</span>
</pre></div>
</div>
<p>Print matrix to screen.</p>
</section>
<section id="mju-printmatsparse">
<span id="id102"></span><h3>mju_printMatSparse<a class="headerlink" href="#mju-printmatsparse" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_printMatSparse</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">nr</span><span class="p">,</span>
<span class="w">                        </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">rownnz</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">rowadr</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">colind</span><span class="p">);</span>
</pre></div>
</div>
<p>Print sparse matrix to screen.</p>
</section>
</section>
<section id="virtual-file-system">
<span id="virtualfilesystem"></span><h2>Virtual file system<a class="headerlink" href="#virtual-file-system" title="Permalink to this headline">#</a></h2>
<p>Virtual file system (VFS) enables the user to load all necessary files in memory, including MJB binary model files, XML
files (MJCF, URDF and included files), STL meshes, PNGs for textures and height fields, and HF files in our custom
height field format. Model and resource files in the VFS can also be constructed programmatically (say using a Python
library that writes to memory). Once all desired files are in the VFS, the user can call <a class="reference internal" href="#mj-loadmodel"><span class="std std-ref">mj_loadModel</span></a> or
<a class="reference internal" href="#mj-loadxml"><span class="std std-ref">mj_loadXML</span></a> with a pointer to the VFS. When this pointer is not NULL, the loaders will first check the VFS for any
file they are about to load, and only access the disk if the file is not found in the VFS. The file names stored in the
VFS have their name and extension but the path information is stripped; this can be bypassed however by using a custom
path symbol in the file names, say “mydir_myfile.xml”.</p>
<p>The entire VFS is contained in the data structure <a class="reference internal" href="APItypes.html#mjvfs"><span class="std std-ref">mjVFS</span></a>. All utility functions for maintaining the VFS operate on
this data structure. The common usage pattern is to first clear it with mj_defaultVFS, then add disk files to it with
mj_addFileVFS (which allocates memory buffers and loads the file content in memory), then call mj_loadXML or
mj_loadModel, and then clear everything with mj_deleteVFS.</p>
<section id="mj-defaultvfs">
<span id="id103"></span><h3>mj_defaultVFS<a class="headerlink" href="#mj-defaultvfs" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_defaultVFS</span><span class="p">(</span><span class="n">mjVFS</span><span class="o">*</span><span class="w"> </span><span class="n">vfs</span><span class="p">);</span>
</pre></div>
</div>
<p>Initialize VFS to empty (no deallocation).</p>
</section>
<section id="mj-addfilevfs">
<span id="id104"></span><h3>mj_addFileVFS<a class="headerlink" href="#mj-addfilevfs" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mj_addFileVFS</span><span class="p">(</span><span class="n">mjVFS</span><span class="o">*</span><span class="w"> </span><span class="n">vfs</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">directory</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">filename</span><span class="p">);</span>
</pre></div>
</div>
<p>Add file to VFS. The directory argument is optional and can be NULL or empty. Returns 0 on success, 1 when VFS is full,
2 on name collision, or -1 when an internal error occurs.</p>
</section>
<section id="mj-makeemptyfilevfs">
<span id="id105"></span><h3>mj_makeEmptyFileVFS<a class="headerlink" href="#mj-makeemptyfilevfs" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mj_makeEmptyFileVFS</span><span class="p">(</span><span class="n">mjVFS</span><span class="o">*</span><span class="w"> </span><span class="n">vfs</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">filesize</span><span class="p">);</span>
</pre></div>
</div>
<p>Make empty file in VFS, return 0: success, 1: full, 2: repeated name.</p>
</section>
<section id="mj-findfilevfs">
<span id="id106"></span><h3>mj_findFileVFS<a class="headerlink" href="#mj-findfilevfs" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mj_findFileVFS</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjVFS</span><span class="o">*</span><span class="w"> </span><span class="n">vfs</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">filename</span><span class="p">);</span>
</pre></div>
</div>
<p>Return file index in VFS, or -1 if not found in VFS.</p>
</section>
<section id="mj-deletefilevfs">
<span id="id107"></span><h3>mj_deleteFileVFS<a class="headerlink" href="#mj-deletefilevfs" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mj_deleteFileVFS</span><span class="p">(</span><span class="n">mjVFS</span><span class="o">*</span><span class="w"> </span><span class="n">vfs</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">filename</span><span class="p">);</span>
</pre></div>
</div>
<p>Delete file from VFS, return 0: success, -1: not found in VFS.</p>
</section>
<section id="mj-deletevfs">
<span id="id108"></span><h3>mj_deleteVFS<a class="headerlink" href="#mj-deletevfs" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_deleteVFS</span><span class="p">(</span><span class="n">mjVFS</span><span class="o">*</span><span class="w"> </span><span class="n">vfs</span><span class="p">);</span>
</pre></div>
</div>
<p>Delete all files from VFS.</p>
</section>
</section>
<section id="initialization">
<span id="id109"></span><h2>Initialization<a class="headerlink" href="#initialization" title="Permalink to this headline">#</a></h2>
<p>This section contains functions that load/initialize the model or other data structures. Their use is well illustrated
in the code samples.</p>
<section id="mj-defaultlropt">
<span id="id110"></span><h3>mj_defaultLROpt<a class="headerlink" href="#mj-defaultlropt" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_defaultLROpt</span><span class="p">(</span><span class="n">mjLROpt</span><span class="o">*</span><span class="w"> </span><span class="n">opt</span><span class="p">);</span>
</pre></div>
</div>
<p>Set default options for length range computation.</p>
</section>
<section id="mj-defaultsolrefimp">
<span id="id111"></span><h3>mj_defaultSolRefImp<a class="headerlink" href="#mj-defaultsolrefimp" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_defaultSolRefImp</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">solref</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">solimp</span><span class="p">);</span>
</pre></div>
</div>
<p>Set solver parameters to default values.</p>
</section>
<section id="mj-defaultoption">
<span id="id112"></span><h3>mj_defaultOption<a class="headerlink" href="#mj-defaultoption" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_defaultOption</span><span class="p">(</span><span class="n">mjOption</span><span class="o">*</span><span class="w"> </span><span class="n">opt</span><span class="p">);</span>
</pre></div>
</div>
<p>Set physics options to default values.</p>
</section>
<section id="mj-defaultvisual">
<span id="id113"></span><h3>mj_defaultVisual<a class="headerlink" href="#mj-defaultvisual" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_defaultVisual</span><span class="p">(</span><span class="n">mjVisual</span><span class="o">*</span><span class="w"> </span><span class="n">vis</span><span class="p">);</span>
</pre></div>
</div>
<p>Set visual options to default values.</p>
</section>
<section id="mj-copymodel">
<span id="id114"></span><h3>mj_copyModel<a class="headerlink" href="#mj-copymodel" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="nf">mj_copyModel</span><span class="p">(</span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">dest</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
</pre></div>
</div>
<p>Copy <a class="reference internal" href="APItypes.html#mjmodel"><span class="std std-ref">mjModel</span></a>, allocate new if dest is NULL.</p>
</section>
<section id="mj-savemodel">
<span id="id115"></span><h3>mj_saveModel<a class="headerlink" href="#mj-savemodel" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_saveModel</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">buffer_sz</span><span class="p">);</span>
</pre></div>
</div>
<p>Save model to binary MJB file or memory buffer; buffer has precedence when given.</p>
</section>
<section id="mj-loadmodel">
<span id="id116"></span><h3>mj_loadModel<a class="headerlink" href="#mj-loadmodel" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="nf">mj_loadModel</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjVFS</span><span class="o">*</span><span class="w"> </span><span class="n">vfs</span><span class="p">);</span>
</pre></div>
</div>
<p>Load model from binary MJB file.
If vfs is not NULL, look up file in vfs before reading from disk.</p>
</section>
<section id="mj-deletemodel">
<span id="id117"></span><h3>mj_deleteModel<a class="headerlink" href="#mj-deletemodel" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_deleteModel</span><span class="p">(</span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">);</span>
</pre></div>
</div>
<p>Free memory allocation in model.</p>
</section>
<section id="mj-sizemodel">
<span id="id118"></span><h3>mj_sizeModel<a class="headerlink" href="#mj-sizemodel" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mj_sizeModel</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">);</span>
</pre></div>
</div>
<p>Return size of buffer needed to hold model.</p>
</section>
<section id="mj-makedata">
<span id="id119"></span><h3>mj_makeData<a class="headerlink" href="#mj-makedata" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="nf">mj_makeData</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">);</span>
</pre></div>
</div>
<p>Allocate <a class="reference internal" href="APItypes.html#mjdata"><span class="std std-ref">mjData</span></a> corresponding to given model.
If the model buffer is unallocated the initial configuration will not be set.</p>
</section>
<section id="mj-copydata">
<span id="id120"></span><h3>mj_copyData<a class="headerlink" href="#mj-copydata" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="nf">mj_copyData</span><span class="p">(</span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">dest</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
</pre></div>
</div>
<p>Copy <a class="reference internal" href="APItypes.html#mjdata"><span class="std std-ref">mjData</span></a>.
m is only required to contain the size fields from MJMODEL_INTS.</p>
</section>
<section id="mj-resetdata">
<span id="id121"></span><h3>mj_resetData<a class="headerlink" href="#mj-resetdata" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_resetData</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Reset data to defaults.</p>
</section>
<section id="mj-resetdatadebug">
<span id="id122"></span><h3>mj_resetDataDebug<a class="headerlink" href="#mj-resetdatadebug" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_resetDataDebug</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">debug_value</span><span class="p">);</span>
</pre></div>
</div>
<p>Reset data to defaults, fill everything else with debug_value.</p>
</section>
<section id="mj-resetdatakeyframe">
<span id="id123"></span><h3>mj_resetDataKeyframe<a class="headerlink" href="#mj-resetdatakeyframe" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_resetDataKeyframe</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>
</pre></div>
</div>
<p>Reset data, set fields from specified keyframe.</p>
</section>
<section id="mj-stackalloc">
<span id="id124"></span><h3>mj_stackAlloc<a class="headerlink" href="#mj-stackalloc" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="nf">mj_stackAlloc</span><span class="p">(</span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">bytes</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">alignment</span><span class="p">);</span>
</pre></div>
</div>
<p>Allocate a number of bytes on <a class="reference internal" href="APItypes.html#mjdata"><span class="std std-ref">mjData</span></a> stack at a specific alignment which must be a power of 2.
Call mju_error on stack overflow.</p>
</section>
<section id="mj-stackallocnum">
<span id="id125"></span><h3>mj_stackAllocNum<a class="headerlink" href="#mj-stackallocnum" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="nf">mj_stackAllocNum</span><span class="p">(</span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="p">);</span>
</pre></div>
</div>
<p>Allocate array of mjtNums on <a class="reference internal" href="APItypes.html#mjdata"><span class="std std-ref">mjData</span></a> stack. Call mju_error on stack overflow.</p>
</section>
<section id="mj-stackallocint">
<span id="id126"></span><h3>mj_stackAllocInt<a class="headerlink" href="#mj-stackallocint" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="nf">mj_stackAllocInt</span><span class="p">(</span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="p">);</span>
</pre></div>
</div>
<p>Allocate array of ints on <a class="reference internal" href="APItypes.html#mjdata"><span class="std std-ref">mjData</span></a> stack. Call mju_error on stack overflow.</p>
</section>
<section id="mj-deletedata">
<span id="id127"></span><h3>mj_deleteData<a class="headerlink" href="#mj-deletedata" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_deleteData</span><span class="p">(</span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Free memory allocation in <a class="reference internal" href="APItypes.html#mjdata"><span class="std std-ref">mjData</span></a>.</p>
</section>
<section id="mj-resetcallbacks">
<span id="id128"></span><h3>mj_resetCallbacks<a class="headerlink" href="#mj-resetcallbacks" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_resetCallbacks</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</pre></div>
</div>
<p>Reset all callbacks to NULL pointers (NULL is the default).</p>
</section>
<section id="mj-setconst">
<span id="id129"></span><h3>mj_setConst<a class="headerlink" href="#mj-setconst" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_setConst</span><span class="p">(</span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
</pre></div>
</div>
<p>Set constant fields of <a class="reference internal" href="APItypes.html#mjmodel"><span class="std std-ref">mjModel</span></a>, corresponding to qpos0 configuration.</p>
</section>
<section id="mj-setlengthrange">
<span id="id130"></span><h3>mj_setLengthRange<a class="headerlink" href="#mj-setlengthrange" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mj_setLengthRange</span><span class="p">(</span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">,</span>
<span class="w">                      </span><span class="k">const</span><span class="w"> </span><span class="n">mjLROpt</span><span class="o">*</span><span class="w"> </span><span class="n">opt</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">error</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">error_sz</span><span class="p">);</span>
</pre></div>
</div>
<p>Set actuator_lengthrange for specified actuator; return 1 if ok, 0 if error.</p>
</section>
</section>
<section id="interaction">
<span id="id131"></span><h2>Interaction<a class="headerlink" href="#interaction" title="Permalink to this headline">#</a></h2>
<p>These function implement abstract mouse interactions, allowing control over cameras and perturbations. Their use is well
illustrated in <a class="reference internal" href="../programming/samples.html#sasimulate"><span class="std std-ref">simulate</span></a>.</p>
<section id="mjv-defaultcamera">
<span id="id132"></span><h3>mjv_defaultCamera<a class="headerlink" href="#mjv-defaultcamera" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_defaultCamera</span><span class="p">(</span><span class="n">mjvCamera</span><span class="o">*</span><span class="w"> </span><span class="n">cam</span><span class="p">);</span>
</pre></div>
</div>
<p>Set default camera.</p>
</section>
<section id="mjv-defaultfreecamera">
<span id="id133"></span><h3>mjv_defaultFreeCamera<a class="headerlink" href="#mjv-defaultfreecamera" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_defaultFreeCamera</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjvCamera</span><span class="o">*</span><span class="w"> </span><span class="n">cam</span><span class="p">);</span>
</pre></div>
</div>
<p>Set default free camera.</p>
</section>
<section id="mjv-defaultperturb">
<span id="id134"></span><h3>mjv_defaultPerturb<a class="headerlink" href="#mjv-defaultperturb" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_defaultPerturb</span><span class="p">(</span><span class="n">mjvPerturb</span><span class="o">*</span><span class="w"> </span><span class="n">pert</span><span class="p">);</span>
</pre></div>
</div>
<p>Set default perturbation.</p>
</section>
<section id="mjv-room2model">
<span id="id135"></span><h3>mjv_room2model<a class="headerlink" href="#mjv-room2model" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_room2model</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">modelpos</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">modelquat</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">roompos</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
<span class="w">                    </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">roomquat</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjvScene</span><span class="o">*</span><span class="w"> </span><span class="n">scn</span><span class="p">);</span>
</pre></div>
</div>
<p>Transform pose from room to model space.</p>
</section>
<section id="mjv-model2room">
<span id="id136"></span><h3>mjv_model2room<a class="headerlink" href="#mjv-model2room" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_model2room</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">roompos</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">roomquat</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">modelpos</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
<span class="w">                    </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">modelquat</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjvScene</span><span class="o">*</span><span class="w"> </span><span class="n">scn</span><span class="p">);</span>
</pre></div>
</div>
<p>Transform pose from model to room space.</p>
</section>
<section id="mjv-camerainmodel">
<span id="id137"></span><h3>mjv_cameraInModel<a class="headerlink" href="#mjv-camerainmodel" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_cameraInModel</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">headpos</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">forward</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">up</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
<span class="w">                       </span><span class="k">const</span><span class="w"> </span><span class="n">mjvScene</span><span class="o">*</span><span class="w"> </span><span class="n">scn</span><span class="p">);</span>
</pre></div>
</div>
<p>Get camera info in model space; average left and right OpenGL cameras.</p>
</section>
<section id="mjv-camerainroom">
<span id="id138"></span><h3>mjv_cameraInRoom<a class="headerlink" href="#mjv-camerainroom" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_cameraInRoom</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">headpos</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">forward</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">up</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
<span class="w">                      </span><span class="k">const</span><span class="w"> </span><span class="n">mjvScene</span><span class="o">*</span><span class="w"> </span><span class="n">scn</span><span class="p">);</span>
</pre></div>
</div>
<p>Get camera info in room space; average left and right OpenGL cameras.</p>
</section>
<section id="mjv-frustumheight">
<span id="id139"></span><h3>mjv_frustumHeight<a class="headerlink" href="#mjv-frustumheight" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mjv_frustumHeight</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjvScene</span><span class="o">*</span><span class="w"> </span><span class="n">scn</span><span class="p">);</span>
</pre></div>
</div>
<p>Get frustum height at unit distance from camera; average left and right OpenGL cameras.</p>
</section>
<section id="mjv-aligntocamera">
<span id="id140"></span><h3>mjv_alignToCamera<a class="headerlink" href="#mjv-aligntocamera" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_alignToCamera</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vec</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">forward</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
</pre></div>
</div>
<p>Rotate 3D vec in horizontal plane by angle between (0,1) and (forward_x,forward_y).</p>
</section>
<section id="mjv-movecamera">
<span id="id141"></span><h3>mjv_moveCamera<a class="headerlink" href="#mjv-movecamera" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_moveCamera</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">action</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">reldx</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">reldy</span><span class="p">,</span>
<span class="w">                    </span><span class="k">const</span><span class="w"> </span><span class="n">mjvScene</span><span class="o">*</span><span class="w"> </span><span class="n">scn</span><span class="p">,</span><span class="w"> </span><span class="n">mjvCamera</span><span class="o">*</span><span class="w"> </span><span class="n">cam</span><span class="p">);</span>
</pre></div>
</div>
<p>Move camera with mouse; action is mjtMouse.</p>
</section>
<section id="mjv-movecamerafromstate">
<span id="id142"></span><h3>mjv_moveCameraFromState<a class="headerlink" href="#mjv-movecamerafromstate" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_moveCameraFromState</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjvSceneState</span><span class="o">*</span><span class="w"> </span><span class="n">scnstate</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">action</span><span class="p">,</span>
<span class="w">                             </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">reldx</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">reldy</span><span class="p">,</span>
<span class="w">                             </span><span class="k">const</span><span class="w"> </span><span class="n">mjvScene</span><span class="o">*</span><span class="w"> </span><span class="n">scn</span><span class="p">,</span><span class="w"> </span><span class="n">mjvCamera</span><span class="o">*</span><span class="w"> </span><span class="n">cam</span><span class="p">);</span>
</pre></div>
</div>
<p>Move camera with mouse given a scene state; action is mjtMouse.</p>
</section>
<section id="mjv-moveperturb">
<span id="id143"></span><h3>mjv_movePerturb<a class="headerlink" href="#mjv-moveperturb" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_movePerturb</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">action</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">reldx</span><span class="p">,</span>
<span class="w">                     </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">reldy</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjvScene</span><span class="o">*</span><span class="w"> </span><span class="n">scn</span><span class="p">,</span><span class="w"> </span><span class="n">mjvPerturb</span><span class="o">*</span><span class="w"> </span><span class="n">pert</span><span class="p">);</span>
</pre></div>
</div>
<p>Move perturb object with mouse; action is mjtMouse.</p>
</section>
<section id="mjv-moveperturbfromstate">
<span id="id144"></span><h3>mjv_movePerturbFromState<a class="headerlink" href="#mjv-moveperturbfromstate" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_movePerturbFromState</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjvSceneState</span><span class="o">*</span><span class="w"> </span><span class="n">scnstate</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">action</span><span class="p">,</span>
<span class="w">                              </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">reldx</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">reldy</span><span class="p">,</span>
<span class="w">                              </span><span class="k">const</span><span class="w"> </span><span class="n">mjvScene</span><span class="o">*</span><span class="w"> </span><span class="n">scn</span><span class="p">,</span><span class="w"> </span><span class="n">mjvPerturb</span><span class="o">*</span><span class="w"> </span><span class="n">pert</span><span class="p">);</span>
</pre></div>
</div>
<p>Move perturb object with mouse given a scene state; action is mjtMouse.</p>
</section>
<section id="mjv-movemodel">
<span id="id145"></span><h3>mjv_moveModel<a class="headerlink" href="#mjv-movemodel" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_moveModel</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">action</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">reldx</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">reldy</span><span class="p">,</span>
<span class="w">                   </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">roomup</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="n">mjvScene</span><span class="o">*</span><span class="w"> </span><span class="n">scn</span><span class="p">);</span>
</pre></div>
</div>
<p>Move model with mouse; action is mjtMouse.</p>
</section>
<section id="mjv-initperturb">
<span id="id146"></span><h3>mjv_initPerturb<a class="headerlink" href="#mjv-initperturb" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_initPerturb</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjvScene</span><span class="o">*</span><span class="w"> </span><span class="n">scn</span><span class="p">,</span><span class="w"> </span><span class="n">mjvPerturb</span><span class="o">*</span><span class="w"> </span><span class="n">pert</span><span class="p">);</span>
</pre></div>
</div>
<p>Copy perturb pos,quat from selected body; set scale for perturbation.</p>
</section>
<section id="mjv-applyperturbpose">
<span id="id147"></span><h3>mjv_applyPerturbPose<a class="headerlink" href="#mjv-applyperturbpose" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_applyPerturbPose</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjvPerturb</span><span class="o">*</span><span class="w"> </span><span class="n">pert</span><span class="p">,</span>
<span class="w">                          </span><span class="kt">int</span><span class="w"> </span><span class="n">flg_paused</span><span class="p">);</span>
</pre></div>
</div>
<p>Set perturb pos,quat in d-&gt;mocap when selected body is mocap, and in d-&gt;qpos otherwise.
Write d-&gt;qpos only if flg_paused and subtree root for selected body has free joint.</p>
</section>
<section id="mjv-applyperturbforce">
<span id="id148"></span><h3>mjv_applyPerturbForce<a class="headerlink" href="#mjv-applyperturbforce" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_applyPerturbForce</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjvPerturb</span><span class="o">*</span><span class="w"> </span><span class="n">pert</span><span class="p">);</span>
</pre></div>
</div>
<p>Set perturb force,torque in d-&gt;xfrc_applied, if selected body is dynamic.</p>
</section>
<section id="mjv-averagecamera">
<span id="id149"></span><h3>mjv_averageCamera<a class="headerlink" href="#mjv-averagecamera" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjvGLCamera</span><span class="w"> </span><span class="nf">mjv_averageCamera</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjvGLCamera</span><span class="o">*</span><span class="w"> </span><span class="n">cam1</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjvGLCamera</span><span class="o">*</span><span class="w"> </span><span class="n">cam2</span><span class="p">);</span>
</pre></div>
</div>
<p>Return the average of two OpenGL cameras.</p>
</section>
<section id="mjv-select">
<span id="id150"></span><h3>mjv_select<a class="headerlink" href="#mjv-select" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mjv_select</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjvOption</span><span class="o">*</span><span class="w"> </span><span class="n">vopt</span><span class="p">,</span>
<span class="w">               </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">aspectratio</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">relx</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">rely</span><span class="p">,</span>
<span class="w">               </span><span class="k">const</span><span class="w"> </span><span class="n">mjvScene</span><span class="o">*</span><span class="w"> </span><span class="n">scn</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">selpnt</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">geomid</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">skinid</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
</pre></div>
</div>
<p>This function is used for mouse selection, relying on ray intersections. aspectratio is the viewport width/height. relx
and rely are the relative coordinates of the 2D point of interest in the viewport (usually mouse cursor). The function
returns the id of the geom under the specified 2D point, or -1 if there is no geom (note that they skybox if present is
not a model geom). The 3D coordinates of the clicked point are returned in selpnt. See <a class="reference internal" href="../programming/samples.html#sasimulate"><span class="std std-ref">simulate</span></a> for
an illustration.</p>
</section>
</section>
<section id="visualization">
<span id="visualization-api"></span><h2>Visualization<a class="headerlink" href="#visualization" title="Permalink to this headline">#</a></h2>
<p>The functions in this section implement abstract visualization. The results are used by the OpenGL rendered, and can
also be used by users wishing to implement their own rendered, or hook up MuJoCo to advanced rendering tools such as
Unity or Unreal Engine. See <a class="reference internal" href="../programming/samples.html#sasimulate"><span class="std std-ref">simulate</span></a> for illustration of how to use these functions.</p>
<section id="mjv-defaultoption">
<span id="id151"></span><h3>mjv_defaultOption<a class="headerlink" href="#mjv-defaultoption" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_defaultOption</span><span class="p">(</span><span class="n">mjvOption</span><span class="o">*</span><span class="w"> </span><span class="n">opt</span><span class="p">);</span>
</pre></div>
</div>
<p>Set default visualization options.</p>
</section>
<section id="mjv-defaultfigure">
<span id="id152"></span><h3>mjv_defaultFigure<a class="headerlink" href="#mjv-defaultfigure" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_defaultFigure</span><span class="p">(</span><span class="n">mjvFigure</span><span class="o">*</span><span class="w"> </span><span class="n">fig</span><span class="p">);</span>
</pre></div>
</div>
<p>Set default figure.</p>
</section>
<section id="mjv-initgeom">
<span id="id153"></span><h3>mjv_initGeom<a class="headerlink" href="#mjv-initgeom" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_initGeom</span><span class="p">(</span><span class="n">mjvGeom</span><span class="o">*</span><span class="w"> </span><span class="n">geom</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">size</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
<span class="w">                  </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">pos</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">mat</span><span class="p">[</span><span class="mi">9</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">rgba</span><span class="p">[</span><span class="mi">4</span><span class="p">]);</span>
</pre></div>
</div>
<p>Initialize given geom fields when not NULL, set the rest to their default values.</p>
</section>
<section id="mjv-makeconnector">
<span id="id154"></span><h3>mjv_makeConnector<a class="headerlink" href="#mjv-makeconnector" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_makeConnector</span><span class="p">(</span><span class="n">mjvGeom</span><span class="o">*</span><span class="w"> </span><span class="n">geom</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">width</span><span class="p">,</span>
<span class="w">                       </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">a0</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">a1</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">a2</span><span class="p">,</span>
<span class="w">                       </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">b0</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">b1</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">b2</span><span class="p">);</span>
</pre></div>
</div>
<p>Set (type, size, pos, mat) for connector-type geom between given points.
Assume that mjv_initGeom was already called to set all other properties.
Width of mjGEOM_LINE is denominated in pixels.
Deprecated: use mjv_connector.</p>
</section>
<section id="mjv-connector">
<span id="id155"></span><h3>mjv_connector<a class="headerlink" href="#mjv-connector" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_connector</span><span class="p">(</span><span class="n">mjvGeom</span><span class="o">*</span><span class="w"> </span><span class="n">geom</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">width</span><span class="p">,</span>
<span class="w">                   </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">from</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">to</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
</pre></div>
</div>
<p>Set (type, size, pos, mat) for connector-type geom between given points.
Assume that mjv_initGeom was already called to set all other properties.
Width of mjGEOM_LINE is denominated in pixels.</p>
</section>
<section id="mjv-defaultscene">
<span id="id156"></span><h3>mjv_defaultScene<a class="headerlink" href="#mjv-defaultscene" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_defaultScene</span><span class="p">(</span><span class="n">mjvScene</span><span class="o">*</span><span class="w"> </span><span class="n">scn</span><span class="p">);</span>
</pre></div>
</div>
<p>Set default abstract scene.</p>
</section>
<section id="mjv-makescene">
<span id="id157"></span><h3>mjv_makeScene<a class="headerlink" href="#mjv-makescene" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_makeScene</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjvScene</span><span class="o">*</span><span class="w"> </span><span class="n">scn</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">maxgeom</span><span class="p">);</span>
</pre></div>
</div>
<p>Allocate resources in abstract scene.</p>
</section>
<section id="mjv-freescene">
<span id="id158"></span><h3>mjv_freeScene<a class="headerlink" href="#mjv-freescene" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_freeScene</span><span class="p">(</span><span class="n">mjvScene</span><span class="o">*</span><span class="w"> </span><span class="n">scn</span><span class="p">);</span>
</pre></div>
</div>
<p>Free abstract scene.</p>
</section>
<section id="mjv-updatescene">
<span id="id159"></span><h3>mjv_updateScene<a class="headerlink" href="#mjv-updatescene" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_updateScene</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjvOption</span><span class="o">*</span><span class="w"> </span><span class="n">opt</span><span class="p">,</span>
<span class="w">                     </span><span class="k">const</span><span class="w"> </span><span class="n">mjvPerturb</span><span class="o">*</span><span class="w"> </span><span class="n">pert</span><span class="p">,</span><span class="w"> </span><span class="n">mjvCamera</span><span class="o">*</span><span class="w"> </span><span class="n">cam</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">catmask</span><span class="p">,</span><span class="w"> </span><span class="n">mjvScene</span><span class="o">*</span><span class="w"> </span><span class="n">scn</span><span class="p">);</span>
</pre></div>
</div>
<p>Update entire scene given model state.</p>
</section>
<section id="mjv-updatescenefromstate">
<span id="id160"></span><h3>mjv_updateSceneFromState<a class="headerlink" href="#mjv-updatescenefromstate" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mjv_updateSceneFromState</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjvSceneState</span><span class="o">*</span><span class="w"> </span><span class="n">scnstate</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjvOption</span><span class="o">*</span><span class="w"> </span><span class="n">opt</span><span class="p">,</span>
<span class="w">                             </span><span class="k">const</span><span class="w"> </span><span class="n">mjvPerturb</span><span class="o">*</span><span class="w"> </span><span class="n">pert</span><span class="p">,</span><span class="w"> </span><span class="n">mjvCamera</span><span class="o">*</span><span class="w"> </span><span class="n">cam</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">catmask</span><span class="p">,</span>
<span class="w">                             </span><span class="n">mjvScene</span><span class="o">*</span><span class="w"> </span><span class="n">scn</span><span class="p">);</span>
</pre></div>
</div>
<p>Update entire scene from a scene state, return the number of new mjWARN_VGEOMFULL warnings.</p>
</section>
<section id="mjv-defaultscenestate">
<span id="id161"></span><h3>mjv_defaultSceneState<a class="headerlink" href="#mjv-defaultscenestate" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_defaultSceneState</span><span class="p">(</span><span class="n">mjvSceneState</span><span class="o">*</span><span class="w"> </span><span class="n">scnstate</span><span class="p">);</span>
</pre></div>
</div>
<p>Set default scene state.</p>
</section>
<section id="mjv-makescenestate">
<span id="id162"></span><h3>mjv_makeSceneState<a class="headerlink" href="#mjv-makescenestate" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_makeSceneState</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span>
<span class="w">                        </span><span class="n">mjvSceneState</span><span class="o">*</span><span class="w"> </span><span class="n">scnstate</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">maxgeom</span><span class="p">);</span>
</pre></div>
</div>
<p>Allocate resources and initialize a scene state object.</p>
</section>
<section id="mjv-freescenestate">
<span id="id163"></span><h3>mjv_freeSceneState<a class="headerlink" href="#mjv-freescenestate" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_freeSceneState</span><span class="p">(</span><span class="n">mjvSceneState</span><span class="o">*</span><span class="w"> </span><span class="n">scnstate</span><span class="p">);</span>
</pre></div>
</div>
<p>Free scene state.</p>
</section>
<section id="mjv-updatescenestate">
<span id="id164"></span><h3>mjv_updateSceneState<a class="headerlink" href="#mjv-updatescenestate" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_updateSceneState</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjvOption</span><span class="o">*</span><span class="w"> </span><span class="n">opt</span><span class="p">,</span>
<span class="w">                          </span><span class="n">mjvSceneState</span><span class="o">*</span><span class="w"> </span><span class="n">scnstate</span><span class="p">);</span>
</pre></div>
</div>
<p>Update a scene state from model and data.</p>
</section>
<section id="mjv-addgeoms">
<span id="id165"></span><h3>mjv_addGeoms<a class="headerlink" href="#mjv-addgeoms" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_addGeoms</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjvOption</span><span class="o">*</span><span class="w"> </span><span class="n">opt</span><span class="p">,</span>
<span class="w">                  </span><span class="k">const</span><span class="w"> </span><span class="n">mjvPerturb</span><span class="o">*</span><span class="w"> </span><span class="n">pert</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">catmask</span><span class="p">,</span><span class="w"> </span><span class="n">mjvScene</span><span class="o">*</span><span class="w"> </span><span class="n">scn</span><span class="p">);</span>
</pre></div>
</div>
<p>Add geoms from selected categories.</p>
</section>
<section id="mjv-makelights">
<span id="id166"></span><h3>mjv_makeLights<a class="headerlink" href="#mjv-makelights" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_makeLights</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">mjvScene</span><span class="o">*</span><span class="w"> </span><span class="n">scn</span><span class="p">);</span>
</pre></div>
</div>
<p>Make list of lights.</p>
</section>
<section id="mjv-updatecamera">
<span id="id167"></span><h3>mjv_updateCamera<a class="headerlink" href="#mjv-updatecamera" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_updateCamera</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">mjvCamera</span><span class="o">*</span><span class="w"> </span><span class="n">cam</span><span class="p">,</span><span class="w"> </span><span class="n">mjvScene</span><span class="o">*</span><span class="w"> </span><span class="n">scn</span><span class="p">);</span>
</pre></div>
</div>
<p>Update camera.</p>
</section>
<section id="mjv-updateskin">
<span id="id168"></span><h3>mjv_updateSkin<a class="headerlink" href="#mjv-updateskin" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjv_updateSkin</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">mjvScene</span><span class="o">*</span><span class="w"> </span><span class="n">scn</span><span class="p">);</span>
</pre></div>
</div>
<p>Update skins.</p>
</section>
</section>
<section id="opengl-rendering">
<span id="openglrendering"></span><h2>OpenGL rendering<a class="headerlink" href="#opengl-rendering" title="Permalink to this headline">#</a></h2>
<p>These functions expose the OpenGL renderer. See <a class="reference internal" href="../programming/samples.html#sasimulate"><span class="std std-ref">simulate</span></a> for an illustration
of how to use these functions.</p>
<section id="mjr-defaultcontext">
<span id="id169"></span><h3>mjr_defaultContext<a class="headerlink" href="#mjr-defaultcontext" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjr_defaultContext</span><span class="p">(</span><span class="n">mjrContext</span><span class="o">*</span><span class="w"> </span><span class="n">con</span><span class="p">);</span>
</pre></div>
</div>
<p>Set default mjrContext.</p>
</section>
<section id="mjr-makecontext">
<span id="id170"></span><h3>mjr_makeContext<a class="headerlink" href="#mjr-makecontext" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjr_makeContext</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjrContext</span><span class="o">*</span><span class="w"> </span><span class="n">con</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">fontscale</span><span class="p">);</span>
</pre></div>
</div>
<p>Allocate resources in custom OpenGL context; fontscale is mjtFontScale.</p>
</section>
<section id="mjr-changefont">
<span id="id171"></span><h3>mjr_changeFont<a class="headerlink" href="#mjr-changefont" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjr_changeFont</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">fontscale</span><span class="p">,</span><span class="w"> </span><span class="n">mjrContext</span><span class="o">*</span><span class="w"> </span><span class="n">con</span><span class="p">);</span>
</pre></div>
</div>
<p>Change font of existing context.</p>
</section>
<section id="mjr-addaux">
<span id="id172"></span><h3>mjr_addAux<a class="headerlink" href="#mjr-addaux" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjr_addAux</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">height</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">samples</span><span class="p">,</span><span class="w"> </span><span class="n">mjrContext</span><span class="o">*</span><span class="w"> </span><span class="n">con</span><span class="p">);</span>
</pre></div>
</div>
<p>Add Aux buffer with given index to context; free previous Aux buffer.</p>
</section>
<section id="mjr-freecontext">
<span id="id173"></span><h3>mjr_freeContext<a class="headerlink" href="#mjr-freecontext" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjr_freeContext</span><span class="p">(</span><span class="n">mjrContext</span><span class="o">*</span><span class="w"> </span><span class="n">con</span><span class="p">);</span>
</pre></div>
</div>
<p>Free resources in custom OpenGL context, set to default.</p>
</section>
<section id="mjr-resizeoffscreen">
<span id="id174"></span><h3>mjr_resizeOffscreen<a class="headerlink" href="#mjr-resizeoffscreen" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjr_resizeOffscreen</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">height</span><span class="p">,</span><span class="w"> </span><span class="n">mjrContext</span><span class="o">*</span><span class="w"> </span><span class="n">con</span><span class="p">);</span>
</pre></div>
</div>
<p>Resize offscreen buffers.</p>
</section>
<section id="mjr-uploadtexture">
<span id="id175"></span><h3>mjr_uploadTexture<a class="headerlink" href="#mjr-uploadtexture" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjr_uploadTexture</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjrContext</span><span class="o">*</span><span class="w"> </span><span class="n">con</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">texid</span><span class="p">);</span>
</pre></div>
</div>
<p>Upload texture to GPU, overwriting previous upload if any.</p>
</section>
<section id="mjr-uploadmesh">
<span id="id176"></span><h3>mjr_uploadMesh<a class="headerlink" href="#mjr-uploadmesh" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjr_uploadMesh</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjrContext</span><span class="o">*</span><span class="w"> </span><span class="n">con</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">meshid</span><span class="p">);</span>
</pre></div>
</div>
<p>Upload mesh to GPU, overwriting previous upload if any.</p>
</section>
<section id="mjr-uploadhfield">
<span id="id177"></span><h3>mjr_uploadHField<a class="headerlink" href="#mjr-uploadhfield" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjr_uploadHField</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjrContext</span><span class="o">*</span><span class="w"> </span><span class="n">con</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">hfieldid</span><span class="p">);</span>
</pre></div>
</div>
<p>Upload height field to GPU, overwriting previous upload if any.</p>
</section>
<section id="mjr-restorebuffer">
<span id="id178"></span><h3>mjr_restoreBuffer<a class="headerlink" href="#mjr-restorebuffer" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjr_restoreBuffer</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjrContext</span><span class="o">*</span><span class="w"> </span><span class="n">con</span><span class="p">);</span>
</pre></div>
</div>
<p>Make con-&gt;currentBuffer current again.</p>
</section>
<section id="mjr-setbuffer">
<span id="id179"></span><h3>mjr_setBuffer<a class="headerlink" href="#mjr-setbuffer" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjr_setBuffer</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">framebuffer</span><span class="p">,</span><span class="w"> </span><span class="n">mjrContext</span><span class="o">*</span><span class="w"> </span><span class="n">con</span><span class="p">);</span>
</pre></div>
</div>
<p>Set OpenGL framebuffer for rendering: mjFB_WINDOW or mjFB_OFFSCREEN.
If only one buffer is available, set that buffer and ignore framebuffer argument.</p>
</section>
<section id="mjr-readpixels">
<span id="id180"></span><h3>mjr_readPixels<a class="headerlink" href="#mjr-readpixels" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjr_readPixels</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">rgb</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="o">*</span><span class="w"> </span><span class="n">depth</span><span class="p">,</span>
<span class="w">                    </span><span class="n">mjrRect</span><span class="w"> </span><span class="n">viewport</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjrContext</span><span class="o">*</span><span class="w"> </span><span class="n">con</span><span class="p">);</span>
</pre></div>
</div>
<p>Read pixels from current OpenGL framebuffer to client buffer.
Viewport is in OpenGL framebuffer; client buffer starts at (0,0).</p>
</section>
<section id="mjr-drawpixels">
<span id="id181"></span><h3>mjr_drawPixels<a class="headerlink" href="#mjr-drawpixels" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjr_drawPixels</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">rgb</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">float</span><span class="o">*</span><span class="w"> </span><span class="n">depth</span><span class="p">,</span>
<span class="w">                    </span><span class="n">mjrRect</span><span class="w"> </span><span class="n">viewport</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjrContext</span><span class="o">*</span><span class="w"> </span><span class="n">con</span><span class="p">);</span>
</pre></div>
</div>
<p>Draw pixels from client buffer to current OpenGL framebuffer.
Viewport is in OpenGL framebuffer; client buffer starts at (0,0).</p>
</section>
<section id="mjr-blitbuffer">
<span id="id182"></span><h3>mjr_blitBuffer<a class="headerlink" href="#mjr-blitbuffer" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjr_blitBuffer</span><span class="p">(</span><span class="n">mjrRect</span><span class="w"> </span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="n">mjrRect</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span>
<span class="w">                    </span><span class="kt">int</span><span class="w"> </span><span class="n">flg_color</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">flg_depth</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjrContext</span><span class="o">*</span><span class="w"> </span><span class="n">con</span><span class="p">);</span>
</pre></div>
</div>
<p>Blit from src viewpoint in current framebuffer to dst viewport in other framebuffer.
If src, dst have different size and flg_depth==0, color is interpolated with GL_LINEAR.</p>
</section>
<section id="mjr-setaux">
<span id="id183"></span><h3>mjr_setAux<a class="headerlink" href="#mjr-setaux" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjr_setAux</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjrContext</span><span class="o">*</span><span class="w"> </span><span class="n">con</span><span class="p">);</span>
</pre></div>
</div>
<p>Set Aux buffer for custom OpenGL rendering (call restoreBuffer when done).</p>
</section>
<section id="mjr-blitaux">
<span id="id184"></span><h3>mjr_blitAux<a class="headerlink" href="#mjr-blitaux" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjr_blitAux</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="n">mjrRect</span><span class="w"> </span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">left</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">bottom</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjrContext</span><span class="o">*</span><span class="w"> </span><span class="n">con</span><span class="p">);</span>
</pre></div>
</div>
<p>Blit from Aux buffer to con-&gt;currentBuffer.</p>
</section>
<section id="mjr-text">
<span id="id185"></span><h3>mjr_text<a class="headerlink" href="#mjr-text" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjr_text</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">font</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">txt</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjrContext</span><span class="o">*</span><span class="w"> </span><span class="n">con</span><span class="p">,</span>
<span class="w">              </span><span class="kt">float</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">g</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">b</span><span class="p">);</span>
</pre></div>
</div>
<p>Draw text at (x,y) in relative coordinates; font is mjtFont.</p>
</section>
<section id="mjr-overlay">
<span id="id186"></span><h3>mjr_overlay<a class="headerlink" href="#mjr-overlay" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjr_overlay</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">font</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">gridpos</span><span class="p">,</span><span class="w"> </span><span class="n">mjrRect</span><span class="w"> </span><span class="n">viewport</span><span class="p">,</span>
<span class="w">                 </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">overlay</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">overlay2</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjrContext</span><span class="o">*</span><span class="w"> </span><span class="n">con</span><span class="p">);</span>
</pre></div>
</div>
<p>Draw text overlay; font is mjtFont; gridpos is mjtGridPos.</p>
</section>
<section id="mjr-maxviewport">
<span id="id187"></span><h3>mjr_maxViewport<a class="headerlink" href="#mjr-maxviewport" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjrRect</span><span class="w"> </span><span class="nf">mjr_maxViewport</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjrContext</span><span class="o">*</span><span class="w"> </span><span class="n">con</span><span class="p">);</span>
</pre></div>
</div>
<p>Get maximum viewport for active buffer.</p>
</section>
<section id="mjr-rectangle">
<span id="id188"></span><h3>mjr_rectangle<a class="headerlink" href="#mjr-rectangle" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjr_rectangle</span><span class="p">(</span><span class="n">mjrRect</span><span class="w"> </span><span class="n">viewport</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">g</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">a</span><span class="p">);</span>
</pre></div>
</div>
<p>Draw rectangle.</p>
</section>
<section id="mjr-label">
<span id="id189"></span><h3>mjr_label<a class="headerlink" href="#mjr-label" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjr_label</span><span class="p">(</span><span class="n">mjrRect</span><span class="w"> </span><span class="n">viewport</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">font</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">txt</span><span class="p">,</span>
<span class="w">               </span><span class="kt">float</span><span class="w"> </span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">g</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">rt</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">gt</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">bt</span><span class="p">,</span>
<span class="w">               </span><span class="k">const</span><span class="w"> </span><span class="n">mjrContext</span><span class="o">*</span><span class="w"> </span><span class="n">con</span><span class="p">);</span>
</pre></div>
</div>
<p>Draw rectangle with centered text.</p>
</section>
<section id="mjr-figure">
<span id="id190"></span><h3>mjr_figure<a class="headerlink" href="#mjr-figure" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjr_figure</span><span class="p">(</span><span class="n">mjrRect</span><span class="w"> </span><span class="n">viewport</span><span class="p">,</span><span class="w"> </span><span class="n">mjvFigure</span><span class="o">*</span><span class="w"> </span><span class="n">fig</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjrContext</span><span class="o">*</span><span class="w"> </span><span class="n">con</span><span class="p">);</span>
</pre></div>
</div>
<p>Draw 2D figure.</p>
</section>
<section id="mjr-render">
<span id="id191"></span><h3>mjr_render<a class="headerlink" href="#mjr-render" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjr_render</span><span class="p">(</span><span class="n">mjrRect</span><span class="w"> </span><span class="n">viewport</span><span class="p">,</span><span class="w"> </span><span class="n">mjvScene</span><span class="o">*</span><span class="w"> </span><span class="n">scn</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjrContext</span><span class="o">*</span><span class="w"> </span><span class="n">con</span><span class="p">);</span>
</pre></div>
</div>
<p>Render 3D scene.</p>
</section>
<section id="mjr-finish">
<span id="id192"></span><h3>mjr_finish<a class="headerlink" href="#mjr-finish" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjr_finish</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</pre></div>
</div>
<p>Call glFinish.</p>
</section>
<section id="mjr-geterror">
<span id="id193"></span><h3>mjr_getError<a class="headerlink" href="#mjr-geterror" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mjr_getError</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</pre></div>
</div>
<p>Call glGetError and return result.</p>
</section>
<section id="mjr-findrect">
<span id="id194"></span><h3>mjr_findRect<a class="headerlink" href="#mjr-findrect" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mjr_findRect</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">nrect</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjrRect</span><span class="o">*</span><span class="w"> </span><span class="n">rect</span><span class="p">);</span>
</pre></div>
</div>
<p>Find first rectangle containing mouse, -1: not found.</p>
</section>
</section>
<section id="ui-framework">
<span id="uiframework"></span><h2>UI framework<a class="headerlink" href="#ui-framework" title="Permalink to this headline">#</a></h2>
<section id="mjui-themespacing">
<span id="id195"></span><h3>mjui_themeSpacing<a class="headerlink" href="#mjui-themespacing" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjuiThemeSpacing</span><span class="w"> </span><span class="nf">mjui_themeSpacing</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">ind</span><span class="p">);</span>
</pre></div>
</div>
<p>Get builtin UI theme spacing (ind: 0-1).</p>
</section>
<section id="mjui-themecolor">
<span id="id196"></span><h3>mjui_themeColor<a class="headerlink" href="#mjui-themecolor" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjuiThemeColor</span><span class="w"> </span><span class="nf">mjui_themeColor</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">ind</span><span class="p">);</span>
</pre></div>
</div>
<p>Get builtin UI theme color (ind: 0-3).</p>
</section>
<section id="mjui-add">
<span id="id197"></span><h3>mjui_add<a class="headerlink" href="#mjui-add" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjui_add</span><span class="p">(</span><span class="n">mjUI</span><span class="o">*</span><span class="w"> </span><span class="n">ui</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjuiDef</span><span class="o">*</span><span class="w"> </span><span class="n">def</span><span class="p">);</span>
</pre></div>
</div>
<p>Add definitions to UI.</p>
</section>
<section id="mjui-addtosection">
<span id="id198"></span><h3>mjui_addToSection<a class="headerlink" href="#mjui-addtosection" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjui_addToSection</span><span class="p">(</span><span class="n">mjUI</span><span class="o">*</span><span class="w"> </span><span class="n">ui</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">sect</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjuiDef</span><span class="o">*</span><span class="w"> </span><span class="n">def</span><span class="p">);</span>
</pre></div>
</div>
<p>Add definitions to UI section.</p>
</section>
<section id="mjui-resize">
<span id="id199"></span><h3>mjui_resize<a class="headerlink" href="#mjui-resize" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjui_resize</span><span class="p">(</span><span class="n">mjUI</span><span class="o">*</span><span class="w"> </span><span class="n">ui</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjrContext</span><span class="o">*</span><span class="w"> </span><span class="n">con</span><span class="p">);</span>
</pre></div>
</div>
<p>Compute UI sizes.</p>
</section>
<section id="mjui-update">
<span id="id200"></span><h3>mjui_update<a class="headerlink" href="#mjui-update" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjui_update</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">section</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">item</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjUI</span><span class="o">*</span><span class="w"> </span><span class="n">ui</span><span class="p">,</span>
<span class="w">                 </span><span class="k">const</span><span class="w"> </span><span class="n">mjuiState</span><span class="o">*</span><span class="w"> </span><span class="n">state</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjrContext</span><span class="o">*</span><span class="w"> </span><span class="n">con</span><span class="p">);</span>
</pre></div>
</div>
<p>Update specific section/item; -1: update all.</p>
</section>
<section id="mjui-event">
<span id="id201"></span><h3>mjui_event<a class="headerlink" href="#mjui-event" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjuiItem</span><span class="o">*</span><span class="w"> </span><span class="nf">mjui_event</span><span class="p">(</span><span class="n">mjUI</span><span class="o">*</span><span class="w"> </span><span class="n">ui</span><span class="p">,</span><span class="w"> </span><span class="n">mjuiState</span><span class="o">*</span><span class="w"> </span><span class="n">state</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjrContext</span><span class="o">*</span><span class="w"> </span><span class="n">con</span><span class="p">);</span>
</pre></div>
</div>
<p>Handle UI event, return pointer to changed item, NULL if no change.</p>
</section>
<section id="mjui-render">
<span id="id202"></span><h3>mjui_render<a class="headerlink" href="#mjui-render" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjui_render</span><span class="p">(</span><span class="n">mjUI</span><span class="o">*</span><span class="w"> </span><span class="n">ui</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjuiState</span><span class="o">*</span><span class="w"> </span><span class="n">state</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjrContext</span><span class="o">*</span><span class="w"> </span><span class="n">con</span><span class="p">);</span>
</pre></div>
</div>
<p>Copy UI image to current buffer.</p>
</section>
</section>
<section id="error-and-memory">
<span id="errorandmemory"></span><h2>Error and memory<a class="headerlink" href="#error-and-memory" title="Permalink to this headline">#</a></h2>
<section id="mju-error">
<span id="id203"></span><h3>mju_error<a class="headerlink" href="#mju-error" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_error</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">msg</span><span class="p">,</span><span class="w"> </span><span class="p">...)</span><span class="w"> </span><span class="n">mjPRINTFLIKE</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
</pre></div>
</div>
<p>Main error function; does not return to caller.</p>
</section>
<section id="mju-error-i">
<span id="id204"></span><h3>mju_error_i<a class="headerlink" href="#mju-error-i" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_error_i</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">msg</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">);</span>
</pre></div>
</div>
<p>Deprecated: use mju_error.</p>
</section>
<section id="mju-error-s">
<span id="id205"></span><h3>mju_error_s<a class="headerlink" href="#mju-error-s" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_error_s</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">msg</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">text</span><span class="p">);</span>
</pre></div>
</div>
<p>Deprecated: use mju_error.</p>
</section>
<section id="mju-warning">
<span id="id206"></span><h3>mju_warning<a class="headerlink" href="#mju-warning" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_warning</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">msg</span><span class="p">,</span><span class="w"> </span><span class="p">...)</span><span class="w"> </span><span class="n">mjPRINTFLIKE</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
</pre></div>
</div>
<p>Main warning function; returns to caller.</p>
</section>
<section id="mju-warning-i">
<span id="id207"></span><h3>mju_warning_i<a class="headerlink" href="#mju-warning-i" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_warning_i</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">msg</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">);</span>
</pre></div>
</div>
<p>Deprecated: use mju_warning.</p>
</section>
<section id="mju-warning-s">
<span id="id208"></span><h3>mju_warning_s<a class="headerlink" href="#mju-warning-s" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_warning_s</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">msg</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">text</span><span class="p">);</span>
</pre></div>
</div>
<p>Deprecated: use mju_warning.</p>
</section>
<section id="mju-clearhandlers">
<span id="id209"></span><h3>mju_clearHandlers<a class="headerlink" href="#mju-clearhandlers" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_clearHandlers</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</pre></div>
</div>
<p>Clear user error and memory handlers.</p>
</section>
<section id="mju-malloc">
<span id="id210"></span><h3>mju_malloc<a class="headerlink" href="#mju-malloc" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="nf">mju_malloc</span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="p">);</span>
</pre></div>
</div>
<p>Allocate memory; byte-align on 64; pad size to multiple of 64.</p>
</section>
<section id="mju-free">
<span id="id211"></span><h3>mju_free<a class="headerlink" href="#mju-free" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_free</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">ptr</span><span class="p">);</span>
</pre></div>
</div>
<p>Free memory, using free() by default.</p>
</section>
<section id="mj-warning">
<span id="id212"></span><h3>mj_warning<a class="headerlink" href="#mj-warning" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mj_warning</span><span class="p">(</span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">warning</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">info</span><span class="p">);</span>
</pre></div>
</div>
<p>High-level warning function: count warnings in <a class="reference internal" href="APItypes.html#mjdata"><span class="std std-ref">mjData</span></a>, print only the first.</p>
</section>
<section id="mju-writelog">
<span id="id213"></span><h3>mju_writeLog<a class="headerlink" href="#mju-writelog" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_writeLog</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">msg</span><span class="p">);</span>
</pre></div>
</div>
<p>Write [datetime, type: message] to MUJOCO_LOG.TXT.</p>
</section>
</section>
<section id="standard-math">
<span id="standardmath"></span><h2>Standard math<a class="headerlink" href="#standard-math" title="Permalink to this headline">#</a></h2>
<p>The “functions” in this section are preprocessor macros replaced with the corresponding C standard library math
functions. When MuJoCo is compiled with single precision (which is not currently available to the public, but we
sometimes use it internally) these macros are replaced with the corresponding single-precision functions (not shown
here). So one can think of them as having inputs and outputs of type mjtNum, where mjtNum is defined as double or float
depending on how MuJoCo is compiled. We will not document these functions here; see the C standard library
specification.</p>
<section id="mju-sqrt">
<h3>mju_sqrt<a class="headerlink" href="#mju-sqrt" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="cp">#define mju_sqrt    sqrt</span>
</pre></div>
</div>
</section>
<section id="mju-exp">
<h3>mju_exp<a class="headerlink" href="#mju-exp" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="cp">#define mju_exp     exp</span>
</pre></div>
</div>
</section>
<section id="mju-sin">
<h3>mju_sin<a class="headerlink" href="#mju-sin" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="cp">#define mju_sin     sin</span>
</pre></div>
</div>
</section>
<section id="mju-cos">
<h3>mju_cos<a class="headerlink" href="#mju-cos" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="cp">#define mju_cos     cos</span>
</pre></div>
</div>
</section>
<section id="mju-tan">
<h3>mju_tan<a class="headerlink" href="#mju-tan" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="cp">#define mju_tan     tan</span>
</pre></div>
</div>
</section>
<section id="mju-asin">
<h3>mju_asin<a class="headerlink" href="#mju-asin" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="cp">#define mju_asin    asin</span>
</pre></div>
</div>
</section>
<section id="mju-acos">
<h3>mju_acos<a class="headerlink" href="#mju-acos" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="cp">#define mju_acos    acos</span>
</pre></div>
</div>
</section>
<section id="mju-atan2">
<h3>mju_atan2<a class="headerlink" href="#mju-atan2" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="cp">#define mju_atan2   atan2</span>
</pre></div>
</div>
</section>
<section id="mju-tanh">
<h3>mju_tanh<a class="headerlink" href="#mju-tanh" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="cp">#define mju_tanh    tanh</span>
</pre></div>
</div>
</section>
<section id="mju-pow">
<h3>mju_pow<a class="headerlink" href="#mju-pow" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="cp">#define mju_pow     pow</span>
</pre></div>
</div>
</section>
<section id="mju-abs">
<h3>mju_abs<a class="headerlink" href="#mju-abs" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="cp">#define mju_abs     fabs</span>
</pre></div>
</div>
</section>
<section id="mju-log">
<h3>mju_log<a class="headerlink" href="#mju-log" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="cp">#define mju_log     log</span>
</pre></div>
</div>
</section>
<section id="mju-log10">
<h3>mju_log10<a class="headerlink" href="#mju-log10" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="cp">#define mju_log10   log10</span>
</pre></div>
</div>
</section>
<section id="mju-floor">
<h3>mju_floor<a class="headerlink" href="#mju-floor" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="cp">#define mju_floor   floor</span>
</pre></div>
</div>
</section>
<section id="mju-ceil">
<h3>mju_ceil<a class="headerlink" href="#mju-ceil" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="cp">#define mju_ceil    ceil</span>
</pre></div>
</div>
</section>
</section>
<section id="vector-math">
<span id="vectormath"></span><h2>Vector math<a class="headerlink" href="#vector-math" title="Permalink to this headline">#</a></h2>
<section id="mju-zero3">
<span id="id214"></span><h3>mju_zero3<a class="headerlink" href="#mju-zero3" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_zero3</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
</pre></div>
</div>
<p>Set res = 0.</p>
</section>
<section id="mju-copy3">
<span id="id215"></span><h3>mju_copy3<a class="headerlink" href="#mju-copy3" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_copy3</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
</pre></div>
</div>
<p>Set res = vec.</p>
</section>
<section id="mju-scl3">
<span id="id216"></span><h3>mju_scl3<a class="headerlink" href="#mju-scl3" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_scl3</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vec</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">scl</span><span class="p">);</span>
</pre></div>
</div>
<p>Set res = vec*scl.</p>
</section>
<section id="mju-add3">
<span id="id217"></span><h3>mju_add3<a class="headerlink" href="#mju-add3" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_add3</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vec1</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vec2</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
</pre></div>
</div>
<p>Set res = vec1 + vec2.</p>
</section>
<section id="mju-sub3">
<span id="id218"></span><h3>mju_sub3<a class="headerlink" href="#mju-sub3" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_sub3</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vec1</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vec2</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
</pre></div>
</div>
<p>Set res = vec1 - vec2.</p>
</section>
<section id="mju-addto3">
<span id="id219"></span><h3>mju_addTo3<a class="headerlink" href="#mju-addto3" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_addTo3</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vec</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
</pre></div>
</div>
<p>Set res = res + vec.</p>
</section>
<section id="mju-subfrom3">
<span id="id220"></span><h3>mju_subFrom3<a class="headerlink" href="#mju-subfrom3" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_subFrom3</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vec</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
</pre></div>
</div>
<p>Set res = res - vec.</p>
</section>
<section id="mju-addtoscl3">
<span id="id221"></span><h3>mju_addToScl3<a class="headerlink" href="#mju-addtoscl3" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_addToScl3</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vec</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">scl</span><span class="p">);</span>
</pre></div>
</div>
<p>Set res = res + vec*scl.</p>
</section>
<section id="mju-addscl3">
<span id="id222"></span><h3>mju_addScl3<a class="headerlink" href="#mju-addscl3" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_addScl3</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vec1</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vec2</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">scl</span><span class="p">);</span>
</pre></div>
</div>
<p>Set res = vec1 + vec2*scl.</p>
</section>
<section id="mju-normalize3">
<span id="id223"></span><h3>mju_normalize3<a class="headerlink" href="#mju-normalize3" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mju_normalize3</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
</pre></div>
</div>
<p>Normalize vector, return length before normalization.</p>
</section>
<section id="mju-norm3">
<span id="id224"></span><h3>mju_norm3<a class="headerlink" href="#mju-norm3" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mju_norm3</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vec</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
</pre></div>
</div>
<p>Return vector length (without normalizing the vector).</p>
</section>
<section id="mju-dot3">
<span id="id225"></span><h3>mju_dot3<a class="headerlink" href="#mju-dot3" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mju_dot3</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vec1</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vec2</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
</pre></div>
</div>
<p>Return dot-product of vec1 and vec2.</p>
</section>
<section id="mju-dist3">
<span id="id226"></span><h3>mju_dist3<a class="headerlink" href="#mju-dist3" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mju_dist3</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">pos1</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">pos2</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
</pre></div>
</div>
<p>Return Cartesian distance between 3D vectors pos1 and pos2.</p>
</section>
<section id="mju-rotvecmat">
<span id="id227"></span><h3>mju_rotVecMat<a class="headerlink" href="#mju-rotvecmat" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_rotVecMat</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vec</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">mat</span><span class="p">[</span><span class="mi">9</span><span class="p">]);</span>
</pre></div>
</div>
<p>Multiply vector by 3D rotation matrix: res = mat * vec.</p>
</section>
<section id="mju-rotvecmatt">
<span id="id228"></span><h3>mju_rotVecMatT<a class="headerlink" href="#mju-rotvecmatt" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_rotVecMatT</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vec</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">mat</span><span class="p">[</span><span class="mi">9</span><span class="p">]);</span>
</pre></div>
</div>
<p>Multiply vector by transposed 3D rotation matrix: res = mat’ * vec.</p>
</section>
<section id="mju-cross">
<span id="id229"></span><h3>mju_cross<a class="headerlink" href="#mju-cross" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_cross</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
</pre></div>
</div>
<p>Compute cross-product: res = cross(a, b).</p>
</section>
<section id="mju-zero4">
<span id="id230"></span><h3>mju_zero4<a class="headerlink" href="#mju-zero4" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_zero4</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">4</span><span class="p">]);</span>
</pre></div>
</div>
<p>Set res = 0.</p>
</section>
<section id="mju-unit4">
<span id="id231"></span><h3>mju_unit4<a class="headerlink" href="#mju-unit4" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_unit4</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">4</span><span class="p">]);</span>
</pre></div>
</div>
<p>Set res = (1,0,0,0).</p>
</section>
<section id="mju-copy4">
<span id="id232"></span><h3>mju_copy4<a class="headerlink" href="#mju-copy4" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_copy4</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]);</span>
</pre></div>
</div>
<p>Set res = vec.</p>
</section>
<section id="mju-normalize4">
<span id="id233"></span><h3>mju_normalize4<a class="headerlink" href="#mju-normalize4" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mju_normalize4</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">4</span><span class="p">]);</span>
</pre></div>
</div>
<p>Normalize vector, return length before normalization.</p>
</section>
<section id="mju-zero">
<span id="id234"></span><h3>mju_zero<a class="headerlink" href="#mju-zero" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_zero</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>Set res = 0.</p>
</section>
<section id="mju-fill">
<span id="id235"></span><h3>mju_fill<a class="headerlink" href="#mju-fill" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_fill</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>Set res = val.</p>
</section>
<section id="mju-copy">
<span id="id236"></span><h3>mju_copy<a class="headerlink" href="#mju-copy" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_copy</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>Set res = vec.</p>
</section>
<section id="mju-sum">
<span id="id237"></span><h3>mju_sum<a class="headerlink" href="#mju-sum" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mju_sum</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>Return sum(vec).</p>
</section>
<section id="mju-l1">
<span id="id238"></span><h3>mju_L1<a class="headerlink" href="#mju-l1" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mju_L1</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>Return L1 norm: sum(abs(vec)).</p>
</section>
<section id="mju-scl">
<span id="id239"></span><h3>mju_scl<a class="headerlink" href="#mju-scl" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_scl</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">scl</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>Set res = vec*scl.</p>
</section>
<section id="mju-add">
<span id="id240"></span><h3>mju_add<a class="headerlink" href="#mju-add" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_add</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">vec1</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">vec2</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>Set res = vec1 + vec2.</p>
</section>
<section id="mju-sub">
<span id="id241"></span><h3>mju_sub<a class="headerlink" href="#mju-sub" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_sub</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">vec1</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">vec2</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>Set res = vec1 - vec2.</p>
</section>
<section id="mju-addto">
<span id="id242"></span><h3>mju_addTo<a class="headerlink" href="#mju-addto" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_addTo</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>Set res = res + vec.</p>
</section>
<section id="mju-subfrom">
<span id="id243"></span><h3>mju_subFrom<a class="headerlink" href="#mju-subfrom" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_subFrom</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>Set res = res - vec.</p>
</section>
<section id="mju-addtoscl">
<span id="id244"></span><h3>mju_addToScl<a class="headerlink" href="#mju-addtoscl" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_addToScl</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">scl</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>Set res = res + vec*scl.</p>
</section>
<section id="mju-addscl">
<span id="id245"></span><h3>mju_addScl<a class="headerlink" href="#mju-addscl" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_addScl</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">vec1</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">vec2</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">scl</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>Set res = vec1 + vec2*scl.</p>
</section>
<section id="mju-normalize">
<span id="id246"></span><h3>mju_normalize<a class="headerlink" href="#mju-normalize" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mju_normalize</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>Normalize vector, return length before normalization.</p>
</section>
<section id="mju-norm">
<span id="id247"></span><h3>mju_norm<a class="headerlink" href="#mju-norm" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mju_norm</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>Return vector length (without normalizing vector).</p>
</section>
<section id="mju-dot">
<span id="id248"></span><h3>mju_dot<a class="headerlink" href="#mju-dot" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mju_dot</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">vec1</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">vec2</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>Return dot-product of vec1 and vec2.</p>
</section>
<section id="mju-mulmatvec">
<span id="id249"></span><h3>mju_mulMatVec<a class="headerlink" href="#mju-mulmatvec" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_mulMatVec</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">nr</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">nc</span><span class="p">);</span>
</pre></div>
</div>
<p>Multiply matrix and vector: res = mat * vec.</p>
</section>
<section id="mju-mulmattvec">
<span id="id250"></span><h3>mju_mulMatTVec<a class="headerlink" href="#mju-mulmattvec" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_mulMatTVec</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">nr</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">nc</span><span class="p">);</span>
</pre></div>
</div>
<p>Multiply transposed matrix and vector: res = mat’ * vec.</p>
</section>
<section id="mju-mulvecmatvec">
<span id="id251"></span><h3>mju_mulVecMatVec<a class="headerlink" href="#mju-mulvecmatvec" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mju_mulVecMatVec</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">vec1</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">vec2</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>Multiply square matrix with vectors on both sides: returns vec1’ * mat * vec2.</p>
</section>
<section id="mju-transpose">
<span id="id252"></span><h3>mju_transpose<a class="headerlink" href="#mju-transpose" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_transpose</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">nr</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">nc</span><span class="p">);</span>
</pre></div>
</div>
<p>Transpose matrix: res = mat’.</p>
</section>
<section id="mju-symmetrize">
<span id="id253"></span><h3>mju_symmetrize<a class="headerlink" href="#mju-symmetrize" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_symmetrize</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>Symmetrize square matrix <span class="math">\(R = \frac{1}{2}(M + M^T)\)</span>.</p>
</section>
<section id="mju-eye">
<span id="id254"></span><h3>mju_eye<a class="headerlink" href="#mju-eye" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_eye</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>Set mat to the identity matrix.</p>
</section>
<section id="mju-mulmatmat">
<span id="id255"></span><h3>mju_mulMatMat<a class="headerlink" href="#mju-mulmatmat" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_mulMatMat</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">mat1</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">mat2</span><span class="p">,</span>
<span class="w">                   </span><span class="kt">int</span><span class="w"> </span><span class="n">r1</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">c1</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">c2</span><span class="p">);</span>
</pre></div>
</div>
<p>Multiply matrices: res = mat1 * mat2.</p>
</section>
<section id="mju-mulmatmatt">
<span id="id256"></span><h3>mju_mulMatMatT<a class="headerlink" href="#mju-mulmatmatt" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_mulMatMatT</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">mat1</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">mat2</span><span class="p">,</span>
<span class="w">                    </span><span class="kt">int</span><span class="w"> </span><span class="n">r1</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">c1</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">r2</span><span class="p">);</span>
</pre></div>
</div>
<p>Multiply matrices, second argument transposed: res = mat1 * mat2’.</p>
</section>
<section id="mju-mulmattmat">
<span id="id257"></span><h3>mju_mulMatTMat<a class="headerlink" href="#mju-mulmattmat" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_mulMatTMat</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">mat1</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">mat2</span><span class="p">,</span>
<span class="w">                    </span><span class="kt">int</span><span class="w"> </span><span class="n">r1</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">c1</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">c2</span><span class="p">);</span>
</pre></div>
</div>
<p>Multiply matrices, first argument transposed: res = mat1’ * mat2.</p>
</section>
<section id="mju-sqrmattd">
<span id="id258"></span><h3>mju_sqrMatTD<a class="headerlink" href="#mju-sqrmattd" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_sqrMatTD</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">diag</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">nr</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">nc</span><span class="p">);</span>
</pre></div>
</div>
<p>Set res = mat’ * diag * mat if diag is not NULL, and res = mat’ * mat otherwise.</p>
</section>
<section id="mju-transformspatial">
<span id="id259"></span><h3>mju_transformSpatial<a class="headerlink" href="#mju-transformspatial" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_transformSpatial</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vec</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">flg_force</span><span class="p">,</span>
<span class="w">                          </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">newpos</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">oldpos</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
<span class="w">                          </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">rotnew2old</span><span class="p">[</span><span class="mi">9</span><span class="p">]);</span>
</pre></div>
</div>
<p>Coordinate transform of 6D motion or force vector in rotation:translation format.
rotnew2old is 3-by-3, NULL means no rotation; flg_force specifies force or motion type.</p>
</section>
</section>
<section id="quaternions">
<span id="id260"></span><h2>Quaternions<a class="headerlink" href="#quaternions" title="Permalink to this headline">#</a></h2>
<section id="mju-rotvecquat">
<span id="id261"></span><h3>mju_rotVecQuat<a class="headerlink" href="#mju-rotvecquat" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_rotVecQuat</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vec</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">quat</span><span class="p">[</span><span class="mi">4</span><span class="p">]);</span>
</pre></div>
</div>
<p>Rotate vector by quaternion.</p>
</section>
<section id="mju-negquat">
<span id="id262"></span><h3>mju_negQuat<a class="headerlink" href="#mju-negquat" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_negQuat</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">quat</span><span class="p">[</span><span class="mi">4</span><span class="p">]);</span>
</pre></div>
</div>
<p>Conjugate quaternion, corresponding to opposite rotation.</p>
</section>
<section id="mju-mulquat">
<span id="id263"></span><h3>mju_mulQuat<a class="headerlink" href="#mju-mulquat" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_mulQuat</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">quat1</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">quat2</span><span class="p">[</span><span class="mi">4</span><span class="p">]);</span>
</pre></div>
</div>
<p>Multiply quaternions.</p>
</section>
<section id="mju-mulquataxis">
<span id="id264"></span><h3>mju_mulQuatAxis<a class="headerlink" href="#mju-mulquataxis" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_mulQuatAxis</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">quat</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">axis</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
</pre></div>
</div>
<p>Multiply quaternion and axis.</p>
</section>
<section id="mju-axisangle2quat">
<span id="id265"></span><h3>mju_axisAngle2Quat<a class="headerlink" href="#mju-axisangle2quat" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_axisAngle2Quat</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">axis</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">angle</span><span class="p">);</span>
</pre></div>
</div>
<p>Convert axisAngle to quaternion.</p>
</section>
<section id="mju-quat2vel">
<span id="id266"></span><h3>mju_quat2Vel<a class="headerlink" href="#mju-quat2vel" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_quat2Vel</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">quat</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">dt</span><span class="p">);</span>
</pre></div>
</div>
<p>Convert quaternion (corresponding to orientation difference) to 3D velocity.</p>
</section>
<section id="mju-subquat">
<span id="id267"></span><h3>mju_subQuat<a class="headerlink" href="#mju-subquat" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_subQuat</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">qa</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">qb</span><span class="p">[</span><span class="mi">4</span><span class="p">]);</span>
</pre></div>
</div>
<p>Subtract quaternions, express as 3D velocity: qb*quat(res) = qa.</p>
</section>
<section id="mju-quat2mat">
<span id="id268"></span><h3>mju_quat2Mat<a class="headerlink" href="#mju-quat2mat" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_quat2Mat</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">9</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">quat</span><span class="p">[</span><span class="mi">4</span><span class="p">]);</span>
</pre></div>
</div>
<p>Convert quaternion to 3D rotation matrix.</p>
</section>
<section id="mju-mat2quat">
<span id="id269"></span><h3>mju_mat2Quat<a class="headerlink" href="#mju-mat2quat" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_mat2Quat</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">quat</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">mat</span><span class="p">[</span><span class="mi">9</span><span class="p">]);</span>
</pre></div>
</div>
<p>Convert 3D rotation matrix to quaternion.</p>
</section>
<section id="mju-derivquat">
<span id="id270"></span><h3>mju_derivQuat<a class="headerlink" href="#mju-derivquat" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_derivQuat</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">quat</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vel</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
</pre></div>
</div>
<p>Compute time-derivative of quaternion, given 3D rotational velocity.</p>
</section>
<section id="mju-quatintegrate">
<span id="id271"></span><h3>mju_quatIntegrate<a class="headerlink" href="#mju-quatintegrate" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_quatIntegrate</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">quat</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vel</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">scale</span><span class="p">);</span>
</pre></div>
</div>
<p>Integrate quaternion given 3D angular velocity.</p>
</section>
<section id="mju-quatz2vec">
<span id="id272"></span><h3>mju_quatZ2Vec<a class="headerlink" href="#mju-quatz2vec" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_quatZ2Vec</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">quat</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vec</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
</pre></div>
</div>
<p>Construct quaternion performing rotation from z-axis to given vector.</p>
</section>
</section>
<section id="poses">
<span id="id273"></span><h2>Poses<a class="headerlink" href="#poses" title="Permalink to this headline">#</a></h2>
<section id="mju-mulpose">
<span id="id274"></span><h3>mju_mulPose<a class="headerlink" href="#mju-mulpose" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_mulPose</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">posres</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">quatres</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
<span class="w">                 </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">pos1</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">quat1</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
<span class="w">                 </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">pos2</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">quat2</span><span class="p">[</span><span class="mi">4</span><span class="p">]);</span>
</pre></div>
</div>
<p>Multiply two poses.</p>
</section>
<section id="mju-negpose">
<span id="id275"></span><h3>mju_negPose<a class="headerlink" href="#mju-negpose" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_negPose</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">posres</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">quatres</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
<span class="w">                 </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">pos</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">quat</span><span class="p">[</span><span class="mi">4</span><span class="p">]);</span>
</pre></div>
</div>
<p>Conjugate pose, corresponding to the opposite spatial transformation.</p>
</section>
<section id="mju-trnvecpose">
<span id="id276"></span><h3>mju_trnVecPose<a class="headerlink" href="#mju-trnvecpose" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_trnVecPose</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">res</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">pos</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">quat</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
<span class="w">                    </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vec</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
</pre></div>
</div>
<p>Transform vector by pose.</p>
</section>
</section>
<section id="decompositions-solvers">
<span id="decompositions"></span><h2>Decompositions / Solvers<a class="headerlink" href="#decompositions-solvers" title="Permalink to this headline">#</a></h2>
<section id="mju-cholfactor">
<span id="id277"></span><h3>mju_cholFactor<a class="headerlink" href="#mju-cholfactor" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mju_cholFactor</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">mindiag</span><span class="p">);</span>
</pre></div>
</div>
<p>Cholesky decomposition: mat = L*L’; return rank, decomposition performed in-place into mat.</p>
</section>
<section id="mju-cholsolve">
<span id="id278"></span><h3>mju_cholSolve<a class="headerlink" href="#mju-cholsolve" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_cholSolve</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>Solve (mat*mat’) * res = vec, where mat is a Cholesky factor.</p>
</section>
<section id="mju-cholupdate">
<span id="id279"></span><h3>mju_cholUpdate<a class="headerlink" href="#mju-cholupdate" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mju_cholUpdate</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">flg_plus</span><span class="p">);</span>
</pre></div>
</div>
<p>Cholesky rank-one update: L*L’ +/- x*x’; return rank.</p>
</section>
<section id="mju-cholfactorband">
<span id="id280"></span><h3>mju_cholFactorBand<a class="headerlink" href="#mju-cholfactorband" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mju_cholFactorBand</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ntotal</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">nband</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ndense</span><span class="p">,</span>
<span class="w">                          </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">diagadd</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">diagmul</span><span class="p">);</span>
</pre></div>
</div>
<p>Band-dense Cholesky decomposition.
<br/> Add <code class="docutils literal notranslate"><span class="pre">diagadd</span> <span class="pre">+</span> <span class="pre">diagmul*mat_ii</span></code> to diagonal before decomposition.
<br/> Returns the minimum value of the factorized diagonal or 0 if rank-deficient.</p>
<blockquote>
<div><p><strong>Symmetric band-dense matrices</strong></p>
<p><a class="reference internal" href="#mju-cholfactorband"><span class="std std-ref">mju_cholFactorBand</span></a> and subsequent functions containing the substring “band” operate on matrices which are a
generalization of symmetric <a class="reference external" href="https://en.wikipedia.org/wiki/Band_matrix">band matrices</a>. <em>Symmetric band-dense</em> or
“arrowhead” matrices have non-zeros along proximal diagonal bands and dense blocks on the bottom rows and right
columns. These matrices have the property that Cholesky factorization creates no fill-in and can therefore be
performed efficiently in-place. Matrix structure is defined by three integers:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ntotal</span></code>: the number of rows (columns) of the symmetric matrix.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nband</span></code>: the number of bands under (over) the diagonal, inclusive of the diagonal.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ndense</span></code>: the number of dense rows (columns) at the bottom (right).</p></li>
</ul>
<p>The non-zeros are stored in memory as two contiguous row-major blocks, colored green and blue in the illustration
below. The first block has size <code class="docutils literal notranslate"><span class="pre">nband</span> <span class="pre">x</span> <span class="pre">(ntotal-ndense)</span></code> and contains the diagonal and the bands below it. The
second block has size <code class="docutils literal notranslate"><span class="pre">ndense</span> <span class="pre">x</span> <span class="pre">ntotal</span></code> and contains the dense part. Total required memory is the sum of the block
sizes.</p>
<figure class="align-left">
<a class="reference internal image-reference" href="../_images/arrowhead.svg"><img alt="../_images/arrowhead.svg" src="../_images/arrowhead.svg" width="750px" /></a>
</figure>
<p>For example, consider an arrowhead matrix with <code class="docutils literal notranslate"><span class="pre">nband</span> <span class="pre">=</span> <span class="pre">3</span></code>, <code class="docutils literal notranslate"><span class="pre">ndense</span> <span class="pre">=</span> <span class="pre">2</span></code> and <code class="docutils literal notranslate"><span class="pre">ntotal</span> <span class="pre">=</span> <span class="pre">8</span></code>. In this example, the
total memory required is <code class="docutils literal notranslate"><span class="pre">3*(8-2)</span> <span class="pre">+</span> <span class="pre">2*8</span> <span class="pre">=</span> <span class="pre">34</span></code> mjtNum’s, laid out as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span>   <span class="mi">1</span>   <span class="mi">2</span>
    <span class="mi">3</span>   <span class="mi">4</span>   <span class="mi">5</span>
        <span class="mi">6</span>   <span class="mi">7</span>   <span class="mi">8</span>
            <span class="mi">9</span>   <span class="mi">10</span>  <span class="mi">11</span>
                <span class="mi">12</span>  <span class="mi">13</span>  <span class="mi">14</span>
                    <span class="mi">15</span>  <span class="mi">16</span>  <span class="mi">17</span>
        <span class="mi">18</span>  <span class="mi">19</span>  <span class="mi">20</span>  <span class="mi">21</span>  <span class="mi">22</span>  <span class="mi">23</span>  <span class="mi">24</span>  <span class="mi">25</span>
        <span class="mi">26</span>  <span class="mi">27</span>  <span class="mi">28</span>  <span class="mi">29</span>  <span class="mi">30</span>  <span class="mi">31</span>  <span class="mi">32</span>  <span class="mi">33</span>
</pre></div>
</div>
<p>The diagonal elements are <code class="docutils literal notranslate"><span class="pre">2,</span> <span class="pre">5,</span> <span class="pre">8,</span> <span class="pre">11,</span> <span class="pre">14,</span> <span class="pre">17,</span> <span class="pre">24,</span> <span class="pre">33</span></code>.
<br/> Elements <code class="docutils literal notranslate"><span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">3,</span> <span class="pre">25</span></code> are present in memory but never touched.</p>
</div></blockquote>
</section>
<section id="mju-cholsolveband">
<span id="id281"></span><h3>mju_cholSolveBand<a class="headerlink" href="#mju-cholsolveband" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_cholSolveBand</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">vec</span><span class="p">,</span>
<span class="w">                       </span><span class="kt">int</span><span class="w"> </span><span class="n">ntotal</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">nband</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ndense</span><span class="p">);</span>
</pre></div>
</div>
<p>Solve (mat*mat’)*res = vec where mat is a band-dense Cholesky factor.</p>
</section>
<section id="mju-band2dense">
<span id="id282"></span><h3>mju_band2Dense<a class="headerlink" href="#mju-band2dense" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_band2Dense</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ntotal</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">nband</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ndense</span><span class="p">,</span>
<span class="w">                    </span><span class="n">mjtByte</span><span class="w"> </span><span class="n">flg_sym</span><span class="p">);</span>
</pre></div>
</div>
<p>Convert banded matrix to dense matrix, fill upper triangle if flg_sym&gt;0.</p>
</section>
<section id="mju-dense2band">
<span id="id283"></span><h3>mju_dense2Band<a class="headerlink" href="#mju-dense2band" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_dense2Band</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ntotal</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">nband</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ndense</span><span class="p">);</span>
</pre></div>
</div>
<p>Convert dense matrix to banded matrix.</p>
</section>
<section id="mju-bandmulmatvec">
<span id="id284"></span><h3>mju_bandMulMatVec<a class="headerlink" href="#mju-bandmulmatvec" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_bandMulMatVec</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">vec</span><span class="p">,</span>
<span class="w">                       </span><span class="kt">int</span><span class="w"> </span><span class="n">ntotal</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">nband</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ndense</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">nvec</span><span class="p">,</span><span class="w"> </span><span class="n">mjtByte</span><span class="w"> </span><span class="n">flg_sym</span><span class="p">);</span>
</pre></div>
</div>
<p>Multiply band-diagonal matrix with nvec vectors, include upper triangle if flg_sym&gt;0.</p>
</section>
<section id="mju-banddiag">
<span id="id285"></span><h3>mju_bandDiag<a class="headerlink" href="#mju-banddiag" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mju_bandDiag</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ntotal</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">nband</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ndense</span><span class="p">);</span>
</pre></div>
</div>
<p>Address of diagonal element i in band-dense matrix representation.</p>
</section>
<section id="mju-eig3">
<span id="id286"></span><h3>mju_eig3<a class="headerlink" href="#mju-eig3" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mju_eig3</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">eigval</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">eigvec</span><span class="p">[</span><span class="mi">9</span><span class="p">],</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">quat</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">mat</span><span class="p">[</span><span class="mi">9</span><span class="p">]);</span>
</pre></div>
</div>
<p>Eigenvalue decomposition of symmetric 3x3 matrix.</p>
</section>
<section id="mju-boxqp">
<span id="id287"></span><h3>mju_boxQP<a class="headerlink" href="#mju-boxqp" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mju_boxQP</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">R</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">g</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">,</span>
<span class="w">              </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">lower</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">upper</span><span class="p">);</span>
</pre></div>
</div>
<p>Minimize <span class="math">\(\tfrac{1}{2} x^T H x + x^T g \quad \text{s.t.} \quad l \le x \le u\)</span>, return rank or -1 if failed.</p>
<dl>
<dt>inputs:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">n</span></code>           - problem dimension</p>
<p><code class="docutils literal notranslate"><span class="pre">H</span></code>           - SPD matrix                <code class="docutils literal notranslate"><span class="pre">n*n</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">g</span></code>           - bias vector               <code class="docutils literal notranslate"><span class="pre">n</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">lower</span></code>       - lower bounds              <code class="docutils literal notranslate"><span class="pre">n</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">upper</span></code>       - upper bounds              <code class="docutils literal notranslate"><span class="pre">n</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">res</span></code>         - solution warmstart        <code class="docutils literal notranslate"><span class="pre">n</span></code></p>
</dd>
<dt>return value:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">nfree</span> <span class="pre">&lt;=</span> <span class="pre">n</span></code>  - rank of unconstrained subspace, -1 if failure</p>
</dd>
<dt>outputs (required):</dt><dd><p><code class="docutils literal notranslate"><span class="pre">res</span></code>         - solution                  <code class="docutils literal notranslate"><span class="pre">n</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">R</span></code>           - subspace Cholesky factor  <code class="docutils literal notranslate"><span class="pre">nfree*nfree</span></code>,    allocated: <code class="docutils literal notranslate"><span class="pre">n*(n+7)</span></code></p>
</dd>
<dt>outputs (optional):</dt><dd><p><code class="docutils literal notranslate"><span class="pre">index</span></code>       - set of free dimensions    <code class="docutils literal notranslate"><span class="pre">nfree</span></code>,          allocated: <code class="docutils literal notranslate"><span class="pre">n</span></code></p>
</dd>
<dt>notes:</dt><dd><p>The initial value of <code class="docutils literal notranslate"><span class="pre">res</span></code> is used to warmstart the solver.
<code class="docutils literal notranslate"><span class="pre">R</span></code> must have allocatd size <code class="docutils literal notranslate"><span class="pre">n*(n+7)</span></code>, but only <code class="docutils literal notranslate"><span class="pre">nfree*nfree</span></code> values are used in output.
<code class="docutils literal notranslate"><span class="pre">index</span></code> (if given) must have allocated size <code class="docutils literal notranslate"><span class="pre">n</span></code>, but only <code class="docutils literal notranslate"><span class="pre">nfree</span></code> values are used in output.
The convenience function <a class="reference internal" href="#mju-boxqpmalloc"><span class="std std-ref">mju_boxQPmalloc</span></a> allocates the required data structures.
Only the lower triangles of H and R and are read from and written to, respectively.</p>
</dd>
</dl>
</section>
<section id="mju-boxqpmalloc">
<span id="id288"></span><h3>mju_boxQPmalloc<a class="headerlink" href="#mju-boxqpmalloc" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_boxQPmalloc</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">**</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">**</span><span class="w"> </span><span class="n">R</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">**</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">**</span><span class="w"> </span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">**</span><span class="w"> </span><span class="n">g</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">,</span>
<span class="w">                     </span><span class="n">mjtNum</span><span class="o">**</span><span class="w"> </span><span class="n">lower</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">**</span><span class="w"> </span><span class="n">upper</span><span class="p">);</span>
</pre></div>
</div>
<p>Allocate heap memory for box-constrained Quadratic Program.
As in <a class="reference internal" href="#mju-boxqp"><span class="std std-ref">mju_boxQP</span></a>, <code class="docutils literal notranslate"><span class="pre">index</span></code>, <code class="docutils literal notranslate"><span class="pre">lower</span></code>, and <code class="docutils literal notranslate"><span class="pre">upper</span></code> are optional.
Free all pointers with <code class="docutils literal notranslate"><span class="pre">mju_free()</span></code>.</p>
</section>
</section>
<section id="miscellaneous">
<span id="id289"></span><h2>Miscellaneous<a class="headerlink" href="#miscellaneous" title="Permalink to this headline">#</a></h2>
<section id="mju-musclegain">
<span id="id290"></span><h3>mju_muscleGain<a class="headerlink" href="#mju-musclegain" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mju_muscleGain</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">len</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vel</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">lengthrange</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
<span class="w">                      </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">acc0</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">prm</span><span class="p">[</span><span class="mi">9</span><span class="p">]);</span>
</pre></div>
</div>
<p>Muscle active force, prm = (range[2], force, scale, lmin, lmax, vmax, fpmax, fvmax).</p>
</section>
<section id="mju-musclebias">
<span id="id291"></span><h3>mju_muscleBias<a class="headerlink" href="#mju-musclebias" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mju_muscleBias</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">len</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">lengthrange</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
<span class="w">                      </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">acc0</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">prm</span><span class="p">[</span><span class="mi">9</span><span class="p">]);</span>
</pre></div>
</div>
<p>Muscle passive force, prm = (range[2], force, scale, lmin, lmax, vmax, fpmax, fvmax).</p>
</section>
<section id="mju-muscledynamics">
<span id="id292"></span><h3>mju_muscleDynamics<a class="headerlink" href="#mju-muscledynamics" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mju_muscleDynamics</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">ctrl</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">act</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">prm</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
</pre></div>
</div>
<p>Muscle activation dynamics, prm = (tau_act, tau_deact, smoothing_width).</p>
</section>
<section id="mju-encodepyramid">
<span id="id293"></span><h3>mju_encodePyramid<a class="headerlink" href="#mju-encodepyramid" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_encodePyramid</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">pyramid</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">force</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">mu</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">dim</span><span class="p">);</span>
</pre></div>
</div>
<p>Convert contact force to pyramid representation.</p>
</section>
<section id="mju-decodepyramid">
<span id="id294"></span><h3>mju_decodePyramid<a class="headerlink" href="#mju-decodepyramid" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_decodePyramid</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">force</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">pyramid</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">mu</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">dim</span><span class="p">);</span>
</pre></div>
</div>
<p>Convert pyramid representation to contact force.</p>
</section>
<section id="mju-springdamper">
<span id="id295"></span><h3>mju_springDamper<a class="headerlink" href="#mju-springdamper" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mju_springDamper</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">pos0</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vel0</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">Kp</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">Kv</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">dt</span><span class="p">);</span>
</pre></div>
</div>
<p>Integrate spring-damper analytically, return pos(dt).</p>
</section>
<section id="mju-min">
<span id="id296"></span><h3>mju_min<a class="headerlink" href="#mju-min" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mju_min</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">b</span><span class="p">);</span>
</pre></div>
</div>
<p>Return min(a,b) with single evaluation of a and b.</p>
</section>
<section id="mju-max">
<span id="id297"></span><h3>mju_max<a class="headerlink" href="#mju-max" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mju_max</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">b</span><span class="p">);</span>
</pre></div>
</div>
<p>Return max(a,b) with single evaluation of a and b.</p>
</section>
<section id="mju-clip">
<span id="id298"></span><h3>mju_clip<a class="headerlink" href="#mju-clip" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mju_clip</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">min</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">max</span><span class="p">);</span>
</pre></div>
</div>
<p>Clip x to the range [min, max].</p>
</section>
<section id="mju-sign">
<span id="id299"></span><h3>mju_sign<a class="headerlink" href="#mju-sign" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mju_sign</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">x</span><span class="p">);</span>
</pre></div>
</div>
<p>Return sign of x: +1, -1 or 0.</p>
</section>
<section id="mju-round">
<span id="id300"></span><h3>mju_round<a class="headerlink" href="#mju-round" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mju_round</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">x</span><span class="p">);</span>
</pre></div>
</div>
<p>Round x to nearest integer.</p>
</section>
<section id="mju-type2str">
<span id="id301"></span><h3>mju_type2Str<a class="headerlink" href="#mju-type2str" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">mju_type2Str</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">type</span><span class="p">);</span>
</pre></div>
</div>
<p>Convert type id (mjtObj) to type name.</p>
</section>
<section id="mju-str2type">
<span id="id302"></span><h3>mju_str2Type<a class="headerlink" href="#mju-str2type" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mju_str2Type</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
</pre></div>
</div>
<p>Convert type name to type id (mjtObj).</p>
</section>
<section id="mju-writenumbytes">
<span id="id303"></span><h3>mju_writeNumBytes<a class="headerlink" href="#mju-writenumbytes" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">mju_writeNumBytes</span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">nbytes</span><span class="p">);</span>
</pre></div>
</div>
<p>Return human readable number of bytes using standard letter suffix.</p>
</section>
<section id="mju-warningtext">
<span id="id304"></span><h3>mju_warningText<a class="headerlink" href="#mju-warningtext" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">mju_warningText</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">warning</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">info</span><span class="p">);</span>
</pre></div>
</div>
<p>Construct a warning message given the warning type and info.</p>
</section>
<section id="mju-isbad">
<span id="id305"></span><h3>mju_isBad<a class="headerlink" href="#mju-isbad" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mju_isBad</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">x</span><span class="p">);</span>
</pre></div>
</div>
<p>Return 1 if nan or abs(x)&gt;mjMAXVAL, 0 otherwise. Used by check functions.</p>
</section>
<section id="mju-iszero">
<span id="id306"></span><h3>mju_isZero<a class="headerlink" href="#mju-iszero" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mju_isZero</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>Return 1 if all elements are 0.</p>
</section>
<section id="mju-standardnormal">
<span id="id307"></span><h3>mju_standardNormal<a class="headerlink" href="#mju-standardnormal" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mju_standardNormal</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">num2</span><span class="p">);</span>
</pre></div>
</div>
<p>Standard normal random number generator (optional second number).</p>
</section>
<section id="mju-f2n">
<span id="id308"></span><h3>mju_f2n<a class="headerlink" href="#mju-f2n" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_f2n</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">float</span><span class="o">*</span><span class="w"> </span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>Convert from float to mjtNum.</p>
</section>
<section id="mju-n2f">
<span id="id309"></span><h3>mju_n2f<a class="headerlink" href="#mju-n2f" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_n2f</span><span class="p">(</span><span class="kt">float</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>Convert from mjtNum to float.</p>
</section>
<section id="mju-d2n">
<span id="id310"></span><h3>mju_d2n<a class="headerlink" href="#mju-d2n" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_d2n</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">double</span><span class="o">*</span><span class="w"> </span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>Convert from double to mjtNum.</p>
</section>
<section id="mju-n2d">
<span id="id311"></span><h3>mju_n2d<a class="headerlink" href="#mju-n2d" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_n2d</span><span class="p">(</span><span class="kt">double</span><span class="o">*</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>Convert from mjtNum to double.</p>
</section>
<section id="mju-insertionsort">
<span id="id312"></span><h3>mju_insertionSort<a class="headerlink" href="#mju-insertionsort" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_insertionSort</span><span class="p">(</span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">list</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>Insertion sort, resulting list is in increasing order.</p>
</section>
<section id="mju-insertionsortint">
<span id="id313"></span><h3>mju_insertionSortInt<a class="headerlink" href="#mju-insertionsortint" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mju_insertionSortInt</span><span class="p">(</span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">list</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>Integer insertion sort, resulting list is in increasing order.</p>
</section>
<section id="mju-halton">
<span id="id314"></span><h3>mju_Halton<a class="headerlink" href="#mju-halton" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mju_Halton</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">base</span><span class="p">);</span>
</pre></div>
</div>
<p>Generate Halton sequence.</p>
</section>
<section id="mju-strncpy">
<span id="id315"></span><h3>mju_strncpy<a class="headerlink" href="#mju-strncpy" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">mju_strncpy</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>Call strncpy, then set dst[n-1] = 0.</p>
</section>
<section id="mju-sigmoid">
<span id="id316"></span><h3>mju_sigmoid<a class="headerlink" href="#mju-sigmoid" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjtNum</span><span class="w"> </span><span class="nf">mju_sigmoid</span><span class="p">(</span><span class="n">mjtNum</span><span class="w"> </span><span class="n">x</span><span class="p">);</span>
</pre></div>
</div>
<p>Sigmoid function over 0&lt;=x&lt;=1 using quintic polynomial.</p>
</section>
</section>
<section id="derivatives">
<span id="derivatives-api"></span><h2>Derivatives<a class="headerlink" href="#derivatives" title="Permalink to this headline">#</a></h2>
<p>The functions below provide useful derivatives of various functions, both analytic and
finite-differenced. The latter have names with the suffix <code class="docutils literal notranslate"><span class="pre">FD</span></code>. Note that unlike much of the API,
outputs of derivative functions are the trailing rather than leading arguments.</p>
<section id="mjd-transitionfd">
<span id="id317"></span><h3>mjd_transitionFD<a class="headerlink" href="#mjd-transitionfd" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjd_transitionFD</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">eps</span><span class="p">,</span><span class="w"> </span><span class="n">mjtByte</span><span class="w"> </span><span class="n">flg_centered</span><span class="p">,</span>
<span class="w">                      </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">B</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">C</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">D</span><span class="p">);</span>
</pre></div>
</div>
<p>Finite-differenced discrete-time transition matrices.</p>
<p>Letting <span class="math">\(x, u\)</span> denote the current <a class="reference internal" href="../computation.html#gephysicsstate"><span class="std std-ref">state</span></a> and <a class="reference internal" href="../computation.html#geinput"><span class="std std-ref">control</span></a>
vector in an <a class="reference internal" href="APItypes.html#mjdata"><span class="std std-ref">mjData</span></a> instance, and letting <span class="math">\(y, s\)</span> denote the next state and sensor
values, the top-level <a class="reference internal" href="#mj-step"><span class="std std-ref">mj_step</span></a> function computes <span class="math">\((x,u) \rightarrow (y,s)\)</span>.
<a class="reference internal" href="#mjd-transitionfd"><span class="std std-ref">mjd_transitionFD</span></a> computes the four associated Jacobians using finite-differencing.
These matrices and their dimensions are:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="colwidths-auto docutils align-left">
<thead>
<tr class="row-odd"><th class="head"><p>matrix</p></th>
<th class="head"><p>Jacobian</p></th>
<th class="head"><p>dimension</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">A</span></code></p></td>
<td><p><span class="math">\(\partial y / \partial x\)</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2*nv+na</span> <span class="pre">x</span> <span class="pre">2*nv+na</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">B</span></code></p></td>
<td><p><span class="math">\(\partial y / \partial u\)</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2*nv+na</span> <span class="pre">x</span> <span class="pre">nu</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">C</span></code></p></td>
<td><p><span class="math">\(\partial s / \partial x\)</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">nsensordata</span> <span class="pre">x</span> <span class="pre">2*nv+na</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">D</span></code></p></td>
<td><p><span class="math">\(\partial s / \partial u\)</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">nsensordata</span> <span class="pre">x</span> <span class="pre">nu</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<ul class="simple">
<li><p>All outputs are optional (can be NULL).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">eps</span></code> is the finite-differencing epsilon.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">flg_centered</span></code> denotes whether to use forward (0) or centered (1) differences.</p></li>
</ul>
</section>
<section id="mjd-inversefd">
<span id="id318"></span><h3>mjd_inverseFD<a class="headerlink" href="#mjd-inversefd" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjd_inverseFD</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjModel</span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">mjData</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">eps</span><span class="p">,</span><span class="w"> </span><span class="n">mjtByte</span><span class="w"> </span><span class="n">flg_actuation</span><span class="p">,</span>
<span class="w">                   </span><span class="n">mjtNum</span><span class="w"> </span><span class="o">*</span><span class="n">DfDq</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="o">*</span><span class="n">DfDv</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="o">*</span><span class="n">DfDa</span><span class="p">,</span>
<span class="w">                   </span><span class="n">mjtNum</span><span class="w"> </span><span class="o">*</span><span class="n">DsDq</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="o">*</span><span class="n">DsDv</span><span class="p">,</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="o">*</span><span class="n">DsDa</span><span class="p">,</span>
<span class="w">                   </span><span class="n">mjtNum</span><span class="w"> </span><span class="o">*</span><span class="n">DmDq</span><span class="p">);</span>
</pre></div>
</div>
<p>Finite differenced continuous-time inverse-dynamics Jacobians.</p>
<p>Letting <span class="math">\(x, a\)</span> denote the current <a class="reference internal" href="../computation.html#gephysicsstate"><span class="std std-ref">state</span></a> and acceleration vectors in an <a class="reference internal" href="APItypes.html#mjdata"><span class="std std-ref">mjData</span></a> instance, and
letting <span class="math">\(f, s\)</span> denote the forces computed by the inverse dynamics (<code class="docutils literal notranslate"><span class="pre">qfrc_inverse</span></code>), the function
<a class="reference internal" href="#mj-inverse"><span class="std std-ref">mj_inverse</span></a> computes <span class="math">\((x,a) \rightarrow (f,s)\)</span>. <a class="reference internal" href="#mjd-inversefd"><span class="std std-ref">mjd_inverseFD</span></a> computes seven associated Jacobians
using finite-differencing. These matrices and their dimensions are:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="colwidths-auto docutils align-left">
<thead>
<tr class="row-odd"><th class="head"><p>matrix</p></th>
<th class="head"><p>Jacobian</p></th>
<th class="head"><p>dimension</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DfDq</span></code></p></td>
<td><p><span class="math">\(\partial f / \partial q\)</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">nv</span> <span class="pre">x</span> <span class="pre">nv</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DfDv</span></code></p></td>
<td><p><span class="math">\(\partial f / \partial v\)</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">nv</span> <span class="pre">x</span> <span class="pre">nv</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DfDa</span></code></p></td>
<td><p><span class="math">\(\partial f / \partial a\)</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">nv</span> <span class="pre">x</span> <span class="pre">nv</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DsDq</span></code></p></td>
<td><p><span class="math">\(\partial s / \partial q\)</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">nv</span> <span class="pre">x</span> <span class="pre">nsensordata</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DsDv</span></code></p></td>
<td><p><span class="math">\(\partial s / \partial v\)</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">nv</span> <span class="pre">x</span> <span class="pre">nsensordata</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DsDa</span></code></p></td>
<td><p><span class="math">\(\partial s / \partial a\)</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">nv</span> <span class="pre">x</span> <span class="pre">nsensordata</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DmDq</span></code></p></td>
<td><p><span class="math">\(\partial M / \partial q\)</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">nv</span> <span class="pre">x</span> <span class="pre">nM</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<ul class="simple">
<li><p>All outputs are optional (can be NULL).</p></li>
<li><p>All outputs are transposed relative to Control Theory convention (i.e., column major).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DmDq</span></code>, which contains a sparse representation of the <code class="docutils literal notranslate"><span class="pre">nv</span> <span class="pre">x</span> <span class="pre">nv</span> <span class="pre">x</span> <span class="pre">nv</span></code> tensor <span class="math">\(\partial M / \partial q\)</span>, is
not strictly an inverse dynamics Jacobian but is useful in related applications. It is provided as a convenience to
the user, since the required values are already computed if either of the other two <span class="math">\(\partial / \partial q\)</span>
Jacobians are requested.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">eps</span></code> is the (forward) finite-differencing epsilon.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">flg_actuation</span></code> denotes whether to subtract actuation forces (<code class="docutils literal notranslate"><span class="pre">qfrc_actuator</span></code>) from the output of the inverse
dynamics. If this flag is positive, actuator forces are not considered as external.</p></li>
</ul>
</section>
<section id="mjd-subquat">
<span id="id319"></span><h3>mjd_subQuat<a class="headerlink" href="#mjd-subquat" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjd_subQuat</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">qa</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">qb</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">Da</span><span class="p">[</span><span class="mi">9</span><span class="p">],</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">Db</span><span class="p">[</span><span class="mi">9</span><span class="p">]);</span>
</pre></div>
</div>
<p>Derivatives of <a class="reference internal" href="#mju-subquat"><span class="std std-ref">mju_subQuat</span></a> (quaternion difference).</p>
</section>
<section id="mjd-quatintegrate">
<span id="id320"></span><h3>mjd_quatIntegrate<a class="headerlink" href="#mjd-quatintegrate" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjd_quatIntegrate</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">vel</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">scale</span><span class="p">,</span>
<span class="w">                       </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">Dquat</span><span class="p">[</span><span class="mi">9</span><span class="p">],</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">Dvel</span><span class="p">[</span><span class="mi">9</span><span class="p">],</span><span class="w"> </span><span class="n">mjtNum</span><span class="w"> </span><span class="n">Dscale</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
</pre></div>
</div>
<p>Derivatives of <a class="reference internal" href="#mju-quatintegrate"><span class="std std-ref">mju_quatIntegrate</span></a>.</p>
<p><span class="math">\({\tt \small mju\_quatIntegrate}(q, v, h)\)</span> performs the in-place rotation <span class="math">\(q \leftarrow q + v h\)</span>,
where <span class="math">\(q \in \mathbf{S}^3\)</span> is a unit quaternion, <span class="math">\(v \in \mathbf{R}^3\)</span> is a 3D angular velocity and
<span class="math">\(h \in \mathbf{R^+}\)</span> is a timestep. This is equivalent to <span class="math">\({\tt \small mju\_quatIntegrate}(q, s, 1.0)\)</span>,
where <span class="math">\(s\)</span> is the scaled velocity <span class="math">\(s = h v\)</span>.</p>
<p><span class="math">\({\tt \small mjd\_quatIntegrate}(v, h, D_q, D_v, D_h)\)</span> computes the Jacobians of the output <span class="math">\(q\)</span> with respect
to the inputs. Below, <span class="math">\(\bar q\)</span> denotes the pre-modified quaternion:</p>
<div class="math-wrapper docutils container">
<div class="math">
\[\begin{aligned}
   D_q &= \partial q / \partial \bar q \\
   D_v &= \partial q / \partial v \\
   D_h &= \partial q / \partial h
\end{aligned}

\]</div>
</div>
<p>Note that derivatives depend only on <span class="math">\(h\)</span> and <span class="math">\(v\)</span> (in fact, on <span class="math">\(s = h v\)</span>).
All outputs are optional.</p>
</section>
</section>
<section id="plugins">
<span id="plugins-api"></span><h2>Plugins<a class="headerlink" href="#plugins" title="Permalink to this headline">#</a></h2>
<section id="mjp-defaultplugin">
<span id="id321"></span><h3>mjp_defaultPlugin<a class="headerlink" href="#mjp-defaultplugin" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjp_defaultPlugin</span><span class="p">(</span><span class="n">mjpPlugin</span><span class="o">*</span><span class="w"> </span><span class="n">plugin</span><span class="p">);</span>
</pre></div>
</div>
<p>Set default plugin definition.</p>
</section>
<section id="mjp-registerplugin">
<span id="id322"></span><h3>mjp_registerPlugin<a class="headerlink" href="#mjp-registerplugin" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mjp_registerPlugin</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjpPlugin</span><span class="o">*</span><span class="w"> </span><span class="n">plugin</span><span class="p">);</span>
</pre></div>
</div>
<p>Globally register a plugin. This function is thread-safe.
If an identical mjpPlugin is already registered, this function does nothing.
If a non-identical mjpPlugin with the same name is already registered, an mju_error is raised.
Two mjpPlugins are considered identical if all member function pointers and numbers are equal,
and the name and attribute strings are all identical, however the char pointers to the strings
need not be the same.</p>
</section>
<section id="mjp-plugincount">
<span id="id323"></span><h3>mjp_pluginCount<a class="headerlink" href="#mjp-plugincount" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mjp_pluginCount</span><span class="p">();</span>
</pre></div>
</div>
<p>Return the number of globally registered plugins.</p>
</section>
<section id="mjp-getplugin">
<span id="id324"></span><h3>mjp_getPlugin<a class="headerlink" href="#mjp-getplugin" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="n">mjpPlugin</span><span class="o">*</span><span class="w"> </span><span class="nf">mjp_getPlugin</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">slot</span><span class="p">);</span>
</pre></div>
</div>
<p>Look up a plugin by name. If slot is not NULL, also write its registered slot number into it.</p>
</section>
<section id="mjp-getpluginatslot">
<span id="id325"></span><h3>mjp_getPluginAtSlot<a class="headerlink" href="#mjp-getpluginatslot" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="n">mjpPlugin</span><span class="o">*</span><span class="w"> </span><span class="nf">mjp_getPluginAtSlot</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">slot</span><span class="p">);</span>
</pre></div>
</div>
<p>Look up a plugin by the registered slot number that was returned by mjp_registerPlugin.</p>
</section>
<section id="mjp-defaultresourceprovider">
<span id="id326"></span><h3>mjp_defaultResourceProvider<a class="headerlink" href="#mjp-defaultresourceprovider" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">mjp_defaultResourceProvider</span><span class="p">(</span><span class="n">mjpResourceProvider</span><span class="o">*</span><span class="w"> </span><span class="n">provider</span><span class="p">);</span>
</pre></div>
</div>
<p>Set default resource provider definition.</p>
</section>
<section id="mjp-registerresourceprovider">
<span id="id327"></span><h3>mjp_registerResourceProvider<a class="headerlink" href="#mjp-registerresourceprovider" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mjp_registerResourceProvider</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mjpResourceProvider</span><span class="o">*</span><span class="w"> </span><span class="n">provider</span><span class="p">);</span>
</pre></div>
</div>
<p>Globally register a resource provider in a thread-safe manner. The provider must have a prefix
that is not a sub-prefix or super-prefix of any current registered providers.  This function
returns a slot number &gt; 0 on success.</p>
</section>
<section id="mjp-resourceprovidercount">
<span id="id328"></span><h3>mjp_resourceProviderCount<a class="headerlink" href="#mjp-resourceprovidercount" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">mjp_resourceProviderCount</span><span class="p">();</span>
</pre></div>
</div>
<p>Return the number of globally registered resource providers.</p>
</section>
<section id="mjp-getresourceprovider">
<span id="id329"></span><h3>mjp_getResourceProvider<a class="headerlink" href="#mjp-getresourceprovider" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="n">mjpResourceProvider</span><span class="o">*</span><span class="w"> </span><span class="nf">mjp_getResourceProvider</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">resource_name</span><span class="p">);</span>
</pre></div>
</div>
<p>Return the resource provider with the prefix that matches against the resource name.
If no match, return NULL.</p>
</section>
<section id="mjp-getresourceprovideratslot">
<span id="id330"></span><h3>mjp_getResourceProviderAtSlot<a class="headerlink" href="#mjp-getresourceprovideratslot" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="n">mjpResourceProvider</span><span class="o">*</span><span class="w"> </span><span class="nf">mjp_getResourceProviderAtSlot</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">slot</span><span class="p">);</span>
</pre></div>
</div>
<p>Look up a resource provider by slot number returned by mjp_registerResourceProvider.
If invalid slot number, return NULL.</p>
</section>
</section>
<section id="macros">
<span id="id331"></span><h2>Macros<a class="headerlink" href="#macros" title="Permalink to this headline">#</a></h2>
<section id="mjmarkstack">
<span id="id332"></span><h3>mjMARKSTACK<a class="headerlink" href="#mjmarkstack" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="cp">#define mjMARKSTACK int _mark = d-&gt;pstack;</span>
</pre></div>
</div>
<p>This macro is helpful when using the MuJoCo stack in custom computations. It works together with the next macro and the
<a class="reference internal" href="#mj-stackalloc"><span class="std std-ref">mj_stackAlloc</span></a> family of functions, and assumes that mjData* d is defined. The use pattern is this:</p>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">mjMARKSTACK</span><span class="p">;</span>
<span class="n">mjtNum</span><span class="o">*</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mj_stackAllocNum</span><span class="p">(</span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
<span class="c1">// ... use temp as needed</span>
<span class="n">mjFREESTACK</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="mjfreestack">
<span id="id333"></span><h3>mjFREESTACK<a class="headerlink" href="#mjfreestack" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="cp">#define mjFREESTACK d-&gt;pstack = _mark;</span>
</pre></div>
</div>
<p>Reset the MuJoCo stack pointer to the variable _mark, normally saved by mjMARKSTACK.</p>
</section>
<section id="mjdisabled">
<span id="id334"></span><h3>mjDISABLED<a class="headerlink" href="#mjdisabled" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="cp">#define mjDISABLED(x) (m-&gt;opt.disableflags &amp; (x))</span>
</pre></div>
</div>
<p>Check if a given standard feature has been disabled via the physics options, assuming mjModel* m is defined. x is of
type <a class="reference internal" href="APItypes.html#mjtdisablebit"><span class="std std-ref">mjtDisableBit</span></a>.</p>
</section>
<section id="mjenabled">
<span id="id335"></span><h3>mjENABLED<a class="headerlink" href="#mjenabled" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="cp">#define mjENABLED(x) (m-&gt;opt.enableflags &amp; (x))</span>
</pre></div>
</div>
<p>Check if a given optional feature has been enabled via the physics options, assuming mjModel* m is defined. x is of
type <a class="reference internal" href="APItypes.html#mjtenablebit"><span class="std std-ref">mjtEnableBit</span></a>.</p>
</section>
<section id="mjmax">
<span id="id336"></span><h3>mjMAX<a class="headerlink" href="#mjmax" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="cp">#define mjMAX(a,b) (((a) &gt; (b)) ? (a) : (b))</span>
</pre></div>
</div>
<p>Return maximum value. To avoid repeated evaluation with mjtNum types, use the function <a class="reference internal" href="#mju-max"><span class="std std-ref">mju_max</span></a>.</p>
</section>
<section id="mjmin">
<span id="id337"></span><h3>mjMIN<a class="headerlink" href="#mjmin" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="cp">#define mjMIN(a,b) (((a) &lt; (b)) ? (a) : (b))</span>
</pre></div>
</div>
<p>Return minimum value. To avoid repeated evaluation with mjtNum types, use the function <a class="reference internal" href="#mju-min"><span class="std std-ref">mju_min</span></a>.</p>
</section>
<section id="mjplugin-lib-init">
<span id="id338"></span><h3>mjPLUGIN_LIB_INIT<a class="headerlink" href="#mjplugin-lib-init" title="Permalink to this headline">#</a></h3>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="cp">#define mjPLUGIN_LIB_INIT                                                                 \</span>
<span class="cp">  static void _mjplugin_dllmain(void);                                                    \</span>
<span class="cp">  mjEXTERNC int __stdcall mjDLLMAIN(void* hinst, unsigned long reason, void* reserved) {  \</span>
<span class="cp">    if (reason == 1) {                                                                    \</span>
<span class="cp">      _mjplugin_dllmain();                                                                \</span>
<span class="cp">    }                                                                                     \</span>
<span class="cp">    return 1;                                                                             \</span>
<span class="cp">  }                                                                                       \</span>
<span class="cp">  static void _mjplugin_dllmain(void)</span>
</pre></div>
</div>
<p>Register a plugin as a dynamic library. See <a class="reference internal" href="../programming/extension.html#exregistration"><span class="std std-ref">plugin registration</span></a> for more details.</p>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="APIglobals.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Globals</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="APItypes.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Types</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; DeepMind Technologies Limited
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Functions</a><ul>
<li><a class="reference internal" href="#parse-and-compile">Parse and compile 解码与编译</a><ul>
<li><a class="reference internal" href="#mj-loadxml">mj_loadXML</a></li>
<li><a class="reference internal" href="#mj-savelastxml">mj_saveLastXML</a></li>
<li><a class="reference internal" href="#mj-freelastxml">mj_freeLastXML</a></li>
<li><a class="reference internal" href="#mj-printschema">mj_printSchema</a></li>
</ul>
</li>
<li><a class="reference internal" href="#main-simulation">Main simulation</a><ul>
<li><a class="reference internal" href="#mj-step">mj_step</a></li>
<li><a class="reference internal" href="#mj-step1">mj_step1</a></li>
<li><a class="reference internal" href="#mj-step2">mj_step2</a></li>
<li><a class="reference internal" href="#mj-forward">mj_forward</a></li>
<li><a class="reference internal" href="#mj-inverse">mj_inverse</a></li>
<li><a class="reference internal" href="#mj-forwardskip">mj_forwardSkip</a></li>
<li><a class="reference internal" href="#mj-inverseskip">mj_inverseSkip</a></li>
</ul>
</li>
<li><a class="reference internal" href="#support">Support</a><ul>
<li><a class="reference internal" href="#mj-statesize">mj_stateSize</a></li>
<li><a class="reference internal" href="#mj-getstate">mj_getState</a></li>
<li><a class="reference internal" href="#mj-setstate">mj_setState</a></li>
<li><a class="reference internal" href="#mj-addcontact">mj_addContact</a></li>
<li><a class="reference internal" href="#mj-ispyramidal">mj_isPyramidal</a></li>
<li><a class="reference internal" href="#mj-issparse">mj_isSparse</a></li>
<li><a class="reference internal" href="#mj-isdual">mj_isDual</a></li>
<li><a class="reference internal" href="#mj-muljacvec">mj_mulJacVec</a></li>
<li><a class="reference internal" href="#mj-muljactvec">mj_mulJacTVec</a></li>
<li><a class="reference internal" href="#mj-jac">mj_jac</a></li>
<li><a class="reference internal" href="#mj-jacbody">mj_jacBody</a></li>
<li><a class="reference internal" href="#mj-jacbodycom">mj_jacBodyCom</a></li>
<li><a class="reference internal" href="#mj-jacsubtreecom">mj_jacSubtreeCom</a></li>
<li><a class="reference internal" href="#mj-jacgeom">mj_jacGeom</a></li>
<li><a class="reference internal" href="#mj-jacsite">mj_jacSite</a></li>
<li><a class="reference internal" href="#mj-jacpointaxis">mj_jacPointAxis</a></li>
<li><a class="reference internal" href="#mj-name2id">mj_name2id</a></li>
<li><a class="reference internal" href="#mj-id2name">mj_id2name</a></li>
<li><a class="reference internal" href="#mj-fullm">mj_fullM</a></li>
<li><a class="reference internal" href="#mj-mulm">mj_mulM</a></li>
<li><a class="reference internal" href="#mj-mulm2">mj_mulM2</a></li>
<li><a class="reference internal" href="#mj-addm">mj_addM</a></li>
<li><a class="reference internal" href="#mj-applyft">mj_applyFT</a></li>
<li><a class="reference internal" href="#mj-objectvelocity">mj_objectVelocity</a></li>
<li><a class="reference internal" href="#mj-objectacceleration">mj_objectAcceleration</a></li>
<li><a class="reference internal" href="#mj-contactforce">mj_contactForce</a></li>
<li><a class="reference internal" href="#mj-differentiatepos">mj_differentiatePos</a></li>
<li><a class="reference internal" href="#mj-integratepos">mj_integratePos</a></li>
<li><a class="reference internal" href="#mj-normalizequat">mj_normalizeQuat</a></li>
<li><a class="reference internal" href="#mj-local2global">mj_local2Global</a></li>
<li><a class="reference internal" href="#mj-gettotalmass">mj_getTotalmass</a></li>
<li><a class="reference internal" href="#mj-settotalmass">mj_setTotalmass</a></li>
<li><a class="reference internal" href="#mj-getpluginconfig">mj_getPluginConfig</a></li>
<li><a class="reference internal" href="#mj-loadpluginlibrary">mj_loadPluginLibrary</a></li>
<li><a class="reference internal" href="#mj-loadallpluginlibraries">mj_loadAllPluginLibraries</a></li>
<li><a class="reference internal" href="#mj-version">mj_version</a></li>
<li><a class="reference internal" href="#mj-versionstring">mj_versionString</a></li>
</ul>
</li>
<li><a class="reference internal" href="#components">Components</a><ul>
<li><a class="reference internal" href="#mj-fwdposition">mj_fwdPosition</a></li>
<li><a class="reference internal" href="#mj-fwdvelocity">mj_fwdVelocity</a></li>
<li><a class="reference internal" href="#mj-fwdactuation">mj_fwdActuation</a></li>
<li><a class="reference internal" href="#mj-fwdacceleration">mj_fwdAcceleration</a></li>
<li><a class="reference internal" href="#mj-fwdconstraint">mj_fwdConstraint</a></li>
<li><a class="reference internal" href="#mj-euler">mj_Euler</a></li>
<li><a class="reference internal" href="#mj-rungekutta">mj_RungeKutta</a></li>
<li><a class="reference internal" href="#mj-invposition">mj_invPosition</a></li>
<li><a class="reference internal" href="#mj-invvelocity">mj_invVelocity</a></li>
<li><a class="reference internal" href="#mj-invconstraint">mj_invConstraint</a></li>
<li><a class="reference internal" href="#mj-comparefwdinv">mj_compareFwdInv</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sub-components">Sub components</a><ul>
<li><a class="reference internal" href="#mj-sensorpos">mj_sensorPos</a></li>
<li><a class="reference internal" href="#mj-sensorvel">mj_sensorVel</a></li>
<li><a class="reference internal" href="#mj-sensoracc">mj_sensorAcc</a></li>
<li><a class="reference internal" href="#mj-energypos">mj_energyPos</a></li>
<li><a class="reference internal" href="#mj-energyvel">mj_energyVel</a></li>
<li><a class="reference internal" href="#mj-checkpos">mj_checkPos</a></li>
<li><a class="reference internal" href="#mj-checkvel">mj_checkVel</a></li>
<li><a class="reference internal" href="#mj-checkacc">mj_checkAcc</a></li>
<li><a class="reference internal" href="#mj-kinematics">mj_kinematics</a></li>
<li><a class="reference internal" href="#mj-compos">mj_comPos</a></li>
<li><a class="reference internal" href="#mj-camlight">mj_camlight</a></li>
<li><a class="reference internal" href="#mj-tendon">mj_tendon</a></li>
<li><a class="reference internal" href="#mj-transmission">mj_transmission</a></li>
<li><a class="reference internal" href="#mj-crb">mj_crb</a></li>
<li><a class="reference internal" href="#mj-factorm">mj_factorM</a></li>
<li><a class="reference internal" href="#mj-solvem">mj_solveM</a></li>
<li><a class="reference internal" href="#mj-solvem2">mj_solveM2</a></li>
<li><a class="reference internal" href="#mj-comvel">mj_comVel</a></li>
<li><a class="reference internal" href="#mj-passive">mj_passive</a></li>
<li><a class="reference internal" href="#mj-subtreevel">mj_subtreeVel</a></li>
<li><a class="reference internal" href="#mj-rne">mj_rne</a></li>
<li><a class="reference internal" href="#mj-rnepostconstraint">mj_rnePostConstraint</a></li>
<li><a class="reference internal" href="#mj-collision">mj_collision</a></li>
<li><a class="reference internal" href="#mj-makeconstraint">mj_makeConstraint</a></li>
<li><a class="reference internal" href="#mj-island">mj_island</a></li>
<li><a class="reference internal" href="#mj-projectconstraint">mj_projectConstraint</a></li>
<li><a class="reference internal" href="#mj-referenceconstraint">mj_referenceConstraint</a></li>
<li><a class="reference internal" href="#mj-constraintupdate">mj_constraintUpdate</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ray-collisions">Ray collisions</a><ul>
<li><a class="reference internal" href="#mj-multiray">mj_multiRay</a></li>
<li><a class="reference internal" href="#mj-ray">mj_ray</a></li>
<li><a class="reference internal" href="#mj-rayhfield">mj_rayHfield</a></li>
<li><a class="reference internal" href="#mj-raymesh">mj_rayMesh</a></li>
<li><a class="reference internal" href="#mju-raygeom">mju_rayGeom</a></li>
<li><a class="reference internal" href="#mju-rayskin">mju_raySkin</a></li>
</ul>
</li>
<li><a class="reference internal" href="#printing">Printing</a><ul>
<li><a class="reference internal" href="#mj-printformattedmodel">mj_printFormattedModel</a></li>
<li><a class="reference internal" href="#mj-printmodel">mj_printModel</a></li>
<li><a class="reference internal" href="#mj-printformatteddata">mj_printFormattedData</a></li>
<li><a class="reference internal" href="#mj-printdata">mj_printData</a></li>
<li><a class="reference internal" href="#mju-printmat">mju_printMat</a></li>
<li><a class="reference internal" href="#mju-printmatsparse">mju_printMatSparse</a></li>
</ul>
</li>
<li><a class="reference internal" href="#virtual-file-system">Virtual file system</a><ul>
<li><a class="reference internal" href="#mj-defaultvfs">mj_defaultVFS</a></li>
<li><a class="reference internal" href="#mj-addfilevfs">mj_addFileVFS</a></li>
<li><a class="reference internal" href="#mj-makeemptyfilevfs">mj_makeEmptyFileVFS</a></li>
<li><a class="reference internal" href="#mj-findfilevfs">mj_findFileVFS</a></li>
<li><a class="reference internal" href="#mj-deletefilevfs">mj_deleteFileVFS</a></li>
<li><a class="reference internal" href="#mj-deletevfs">mj_deleteVFS</a></li>
</ul>
</li>
<li><a class="reference internal" href="#initialization">Initialization</a><ul>
<li><a class="reference internal" href="#mj-defaultlropt">mj_defaultLROpt</a></li>
<li><a class="reference internal" href="#mj-defaultsolrefimp">mj_defaultSolRefImp</a></li>
<li><a class="reference internal" href="#mj-defaultoption">mj_defaultOption</a></li>
<li><a class="reference internal" href="#mj-defaultvisual">mj_defaultVisual</a></li>
<li><a class="reference internal" href="#mj-copymodel">mj_copyModel</a></li>
<li><a class="reference internal" href="#mj-savemodel">mj_saveModel</a></li>
<li><a class="reference internal" href="#mj-loadmodel">mj_loadModel</a></li>
<li><a class="reference internal" href="#mj-deletemodel">mj_deleteModel</a></li>
<li><a class="reference internal" href="#mj-sizemodel">mj_sizeModel</a></li>
<li><a class="reference internal" href="#mj-makedata">mj_makeData</a></li>
<li><a class="reference internal" href="#mj-copydata">mj_copyData</a></li>
<li><a class="reference internal" href="#mj-resetdata">mj_resetData</a></li>
<li><a class="reference internal" href="#mj-resetdatadebug">mj_resetDataDebug</a></li>
<li><a class="reference internal" href="#mj-resetdatakeyframe">mj_resetDataKeyframe</a></li>
<li><a class="reference internal" href="#mj-stackalloc">mj_stackAlloc</a></li>
<li><a class="reference internal" href="#mj-stackallocnum">mj_stackAllocNum</a></li>
<li><a class="reference internal" href="#mj-stackallocint">mj_stackAllocInt</a></li>
<li><a class="reference internal" href="#mj-deletedata">mj_deleteData</a></li>
<li><a class="reference internal" href="#mj-resetcallbacks">mj_resetCallbacks</a></li>
<li><a class="reference internal" href="#mj-setconst">mj_setConst</a></li>
<li><a class="reference internal" href="#mj-setlengthrange">mj_setLengthRange</a></li>
</ul>
</li>
<li><a class="reference internal" href="#interaction">Interaction</a><ul>
<li><a class="reference internal" href="#mjv-defaultcamera">mjv_defaultCamera</a></li>
<li><a class="reference internal" href="#mjv-defaultfreecamera">mjv_defaultFreeCamera</a></li>
<li><a class="reference internal" href="#mjv-defaultperturb">mjv_defaultPerturb</a></li>
<li><a class="reference internal" href="#mjv-room2model">mjv_room2model</a></li>
<li><a class="reference internal" href="#mjv-model2room">mjv_model2room</a></li>
<li><a class="reference internal" href="#mjv-camerainmodel">mjv_cameraInModel</a></li>
<li><a class="reference internal" href="#mjv-camerainroom">mjv_cameraInRoom</a></li>
<li><a class="reference internal" href="#mjv-frustumheight">mjv_frustumHeight</a></li>
<li><a class="reference internal" href="#mjv-aligntocamera">mjv_alignToCamera</a></li>
<li><a class="reference internal" href="#mjv-movecamera">mjv_moveCamera</a></li>
<li><a class="reference internal" href="#mjv-movecamerafromstate">mjv_moveCameraFromState</a></li>
<li><a class="reference internal" href="#mjv-moveperturb">mjv_movePerturb</a></li>
<li><a class="reference internal" href="#mjv-moveperturbfromstate">mjv_movePerturbFromState</a></li>
<li><a class="reference internal" href="#mjv-movemodel">mjv_moveModel</a></li>
<li><a class="reference internal" href="#mjv-initperturb">mjv_initPerturb</a></li>
<li><a class="reference internal" href="#mjv-applyperturbpose">mjv_applyPerturbPose</a></li>
<li><a class="reference internal" href="#mjv-applyperturbforce">mjv_applyPerturbForce</a></li>
<li><a class="reference internal" href="#mjv-averagecamera">mjv_averageCamera</a></li>
<li><a class="reference internal" href="#mjv-select">mjv_select</a></li>
</ul>
</li>
<li><a class="reference internal" href="#visualization">Visualization</a><ul>
<li><a class="reference internal" href="#mjv-defaultoption">mjv_defaultOption</a></li>
<li><a class="reference internal" href="#mjv-defaultfigure">mjv_defaultFigure</a></li>
<li><a class="reference internal" href="#mjv-initgeom">mjv_initGeom</a></li>
<li><a class="reference internal" href="#mjv-makeconnector">mjv_makeConnector</a></li>
<li><a class="reference internal" href="#mjv-connector">mjv_connector</a></li>
<li><a class="reference internal" href="#mjv-defaultscene">mjv_defaultScene</a></li>
<li><a class="reference internal" href="#mjv-makescene">mjv_makeScene</a></li>
<li><a class="reference internal" href="#mjv-freescene">mjv_freeScene</a></li>
<li><a class="reference internal" href="#mjv-updatescene">mjv_updateScene</a></li>
<li><a class="reference internal" href="#mjv-updatescenefromstate">mjv_updateSceneFromState</a></li>
<li><a class="reference internal" href="#mjv-defaultscenestate">mjv_defaultSceneState</a></li>
<li><a class="reference internal" href="#mjv-makescenestate">mjv_makeSceneState</a></li>
<li><a class="reference internal" href="#mjv-freescenestate">mjv_freeSceneState</a></li>
<li><a class="reference internal" href="#mjv-updatescenestate">mjv_updateSceneState</a></li>
<li><a class="reference internal" href="#mjv-addgeoms">mjv_addGeoms</a></li>
<li><a class="reference internal" href="#mjv-makelights">mjv_makeLights</a></li>
<li><a class="reference internal" href="#mjv-updatecamera">mjv_updateCamera</a></li>
<li><a class="reference internal" href="#mjv-updateskin">mjv_updateSkin</a></li>
</ul>
</li>
<li><a class="reference internal" href="#opengl-rendering">OpenGL rendering</a><ul>
<li><a class="reference internal" href="#mjr-defaultcontext">mjr_defaultContext</a></li>
<li><a class="reference internal" href="#mjr-makecontext">mjr_makeContext</a></li>
<li><a class="reference internal" href="#mjr-changefont">mjr_changeFont</a></li>
<li><a class="reference internal" href="#mjr-addaux">mjr_addAux</a></li>
<li><a class="reference internal" href="#mjr-freecontext">mjr_freeContext</a></li>
<li><a class="reference internal" href="#mjr-resizeoffscreen">mjr_resizeOffscreen</a></li>
<li><a class="reference internal" href="#mjr-uploadtexture">mjr_uploadTexture</a></li>
<li><a class="reference internal" href="#mjr-uploadmesh">mjr_uploadMesh</a></li>
<li><a class="reference internal" href="#mjr-uploadhfield">mjr_uploadHField</a></li>
<li><a class="reference internal" href="#mjr-restorebuffer">mjr_restoreBuffer</a></li>
<li><a class="reference internal" href="#mjr-setbuffer">mjr_setBuffer</a></li>
<li><a class="reference internal" href="#mjr-readpixels">mjr_readPixels</a></li>
<li><a class="reference internal" href="#mjr-drawpixels">mjr_drawPixels</a></li>
<li><a class="reference internal" href="#mjr-blitbuffer">mjr_blitBuffer</a></li>
<li><a class="reference internal" href="#mjr-setaux">mjr_setAux</a></li>
<li><a class="reference internal" href="#mjr-blitaux">mjr_blitAux</a></li>
<li><a class="reference internal" href="#mjr-text">mjr_text</a></li>
<li><a class="reference internal" href="#mjr-overlay">mjr_overlay</a></li>
<li><a class="reference internal" href="#mjr-maxviewport">mjr_maxViewport</a></li>
<li><a class="reference internal" href="#mjr-rectangle">mjr_rectangle</a></li>
<li><a class="reference internal" href="#mjr-label">mjr_label</a></li>
<li><a class="reference internal" href="#mjr-figure">mjr_figure</a></li>
<li><a class="reference internal" href="#mjr-render">mjr_render</a></li>
<li><a class="reference internal" href="#mjr-finish">mjr_finish</a></li>
<li><a class="reference internal" href="#mjr-geterror">mjr_getError</a></li>
<li><a class="reference internal" href="#mjr-findrect">mjr_findRect</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ui-framework">UI framework</a><ul>
<li><a class="reference internal" href="#mjui-themespacing">mjui_themeSpacing</a></li>
<li><a class="reference internal" href="#mjui-themecolor">mjui_themeColor</a></li>
<li><a class="reference internal" href="#mjui-add">mjui_add</a></li>
<li><a class="reference internal" href="#mjui-addtosection">mjui_addToSection</a></li>
<li><a class="reference internal" href="#mjui-resize">mjui_resize</a></li>
<li><a class="reference internal" href="#mjui-update">mjui_update</a></li>
<li><a class="reference internal" href="#mjui-event">mjui_event</a></li>
<li><a class="reference internal" href="#mjui-render">mjui_render</a></li>
</ul>
</li>
<li><a class="reference internal" href="#error-and-memory">Error and memory</a><ul>
<li><a class="reference internal" href="#mju-error">mju_error</a></li>
<li><a class="reference internal" href="#mju-error-i">mju_error_i</a></li>
<li><a class="reference internal" href="#mju-error-s">mju_error_s</a></li>
<li><a class="reference internal" href="#mju-warning">mju_warning</a></li>
<li><a class="reference internal" href="#mju-warning-i">mju_warning_i</a></li>
<li><a class="reference internal" href="#mju-warning-s">mju_warning_s</a></li>
<li><a class="reference internal" href="#mju-clearhandlers">mju_clearHandlers</a></li>
<li><a class="reference internal" href="#mju-malloc">mju_malloc</a></li>
<li><a class="reference internal" href="#mju-free">mju_free</a></li>
<li><a class="reference internal" href="#mj-warning">mj_warning</a></li>
<li><a class="reference internal" href="#mju-writelog">mju_writeLog</a></li>
</ul>
</li>
<li><a class="reference internal" href="#standard-math">Standard math</a><ul>
<li><a class="reference internal" href="#mju-sqrt">mju_sqrt</a></li>
<li><a class="reference internal" href="#mju-exp">mju_exp</a></li>
<li><a class="reference internal" href="#mju-sin">mju_sin</a></li>
<li><a class="reference internal" href="#mju-cos">mju_cos</a></li>
<li><a class="reference internal" href="#mju-tan">mju_tan</a></li>
<li><a class="reference internal" href="#mju-asin">mju_asin</a></li>
<li><a class="reference internal" href="#mju-acos">mju_acos</a></li>
<li><a class="reference internal" href="#mju-atan2">mju_atan2</a></li>
<li><a class="reference internal" href="#mju-tanh">mju_tanh</a></li>
<li><a class="reference internal" href="#mju-pow">mju_pow</a></li>
<li><a class="reference internal" href="#mju-abs">mju_abs</a></li>
<li><a class="reference internal" href="#mju-log">mju_log</a></li>
<li><a class="reference internal" href="#mju-log10">mju_log10</a></li>
<li><a class="reference internal" href="#mju-floor">mju_floor</a></li>
<li><a class="reference internal" href="#mju-ceil">mju_ceil</a></li>
</ul>
</li>
<li><a class="reference internal" href="#vector-math">Vector math</a><ul>
<li><a class="reference internal" href="#mju-zero3">mju_zero3</a></li>
<li><a class="reference internal" href="#mju-copy3">mju_copy3</a></li>
<li><a class="reference internal" href="#mju-scl3">mju_scl3</a></li>
<li><a class="reference internal" href="#mju-add3">mju_add3</a></li>
<li><a class="reference internal" href="#mju-sub3">mju_sub3</a></li>
<li><a class="reference internal" href="#mju-addto3">mju_addTo3</a></li>
<li><a class="reference internal" href="#mju-subfrom3">mju_subFrom3</a></li>
<li><a class="reference internal" href="#mju-addtoscl3">mju_addToScl3</a></li>
<li><a class="reference internal" href="#mju-addscl3">mju_addScl3</a></li>
<li><a class="reference internal" href="#mju-normalize3">mju_normalize3</a></li>
<li><a class="reference internal" href="#mju-norm3">mju_norm3</a></li>
<li><a class="reference internal" href="#mju-dot3">mju_dot3</a></li>
<li><a class="reference internal" href="#mju-dist3">mju_dist3</a></li>
<li><a class="reference internal" href="#mju-rotvecmat">mju_rotVecMat</a></li>
<li><a class="reference internal" href="#mju-rotvecmatt">mju_rotVecMatT</a></li>
<li><a class="reference internal" href="#mju-cross">mju_cross</a></li>
<li><a class="reference internal" href="#mju-zero4">mju_zero4</a></li>
<li><a class="reference internal" href="#mju-unit4">mju_unit4</a></li>
<li><a class="reference internal" href="#mju-copy4">mju_copy4</a></li>
<li><a class="reference internal" href="#mju-normalize4">mju_normalize4</a></li>
<li><a class="reference internal" href="#mju-zero">mju_zero</a></li>
<li><a class="reference internal" href="#mju-fill">mju_fill</a></li>
<li><a class="reference internal" href="#mju-copy">mju_copy</a></li>
<li><a class="reference internal" href="#mju-sum">mju_sum</a></li>
<li><a class="reference internal" href="#mju-l1">mju_L1</a></li>
<li><a class="reference internal" href="#mju-scl">mju_scl</a></li>
<li><a class="reference internal" href="#mju-add">mju_add</a></li>
<li><a class="reference internal" href="#mju-sub">mju_sub</a></li>
<li><a class="reference internal" href="#mju-addto">mju_addTo</a></li>
<li><a class="reference internal" href="#mju-subfrom">mju_subFrom</a></li>
<li><a class="reference internal" href="#mju-addtoscl">mju_addToScl</a></li>
<li><a class="reference internal" href="#mju-addscl">mju_addScl</a></li>
<li><a class="reference internal" href="#mju-normalize">mju_normalize</a></li>
<li><a class="reference internal" href="#mju-norm">mju_norm</a></li>
<li><a class="reference internal" href="#mju-dot">mju_dot</a></li>
<li><a class="reference internal" href="#mju-mulmatvec">mju_mulMatVec</a></li>
<li><a class="reference internal" href="#mju-mulmattvec">mju_mulMatTVec</a></li>
<li><a class="reference internal" href="#mju-mulvecmatvec">mju_mulVecMatVec</a></li>
<li><a class="reference internal" href="#mju-transpose">mju_transpose</a></li>
<li><a class="reference internal" href="#mju-symmetrize">mju_symmetrize</a></li>
<li><a class="reference internal" href="#mju-eye">mju_eye</a></li>
<li><a class="reference internal" href="#mju-mulmatmat">mju_mulMatMat</a></li>
<li><a class="reference internal" href="#mju-mulmatmatt">mju_mulMatMatT</a></li>
<li><a class="reference internal" href="#mju-mulmattmat">mju_mulMatTMat</a></li>
<li><a class="reference internal" href="#mju-sqrmattd">mju_sqrMatTD</a></li>
<li><a class="reference internal" href="#mju-transformspatial">mju_transformSpatial</a></li>
</ul>
</li>
<li><a class="reference internal" href="#quaternions">Quaternions</a><ul>
<li><a class="reference internal" href="#mju-rotvecquat">mju_rotVecQuat</a></li>
<li><a class="reference internal" href="#mju-negquat">mju_negQuat</a></li>
<li><a class="reference internal" href="#mju-mulquat">mju_mulQuat</a></li>
<li><a class="reference internal" href="#mju-mulquataxis">mju_mulQuatAxis</a></li>
<li><a class="reference internal" href="#mju-axisangle2quat">mju_axisAngle2Quat</a></li>
<li><a class="reference internal" href="#mju-quat2vel">mju_quat2Vel</a></li>
<li><a class="reference internal" href="#mju-subquat">mju_subQuat</a></li>
<li><a class="reference internal" href="#mju-quat2mat">mju_quat2Mat</a></li>
<li><a class="reference internal" href="#mju-mat2quat">mju_mat2Quat</a></li>
<li><a class="reference internal" href="#mju-derivquat">mju_derivQuat</a></li>
<li><a class="reference internal" href="#mju-quatintegrate">mju_quatIntegrate</a></li>
<li><a class="reference internal" href="#mju-quatz2vec">mju_quatZ2Vec</a></li>
</ul>
</li>
<li><a class="reference internal" href="#poses">Poses</a><ul>
<li><a class="reference internal" href="#mju-mulpose">mju_mulPose</a></li>
<li><a class="reference internal" href="#mju-negpose">mju_negPose</a></li>
<li><a class="reference internal" href="#mju-trnvecpose">mju_trnVecPose</a></li>
</ul>
</li>
<li><a class="reference internal" href="#decompositions-solvers">Decompositions / Solvers</a><ul>
<li><a class="reference internal" href="#mju-cholfactor">mju_cholFactor</a></li>
<li><a class="reference internal" href="#mju-cholsolve">mju_cholSolve</a></li>
<li><a class="reference internal" href="#mju-cholupdate">mju_cholUpdate</a></li>
<li><a class="reference internal" href="#mju-cholfactorband">mju_cholFactorBand</a></li>
<li><a class="reference internal" href="#mju-cholsolveband">mju_cholSolveBand</a></li>
<li><a class="reference internal" href="#mju-band2dense">mju_band2Dense</a></li>
<li><a class="reference internal" href="#mju-dense2band">mju_dense2Band</a></li>
<li><a class="reference internal" href="#mju-bandmulmatvec">mju_bandMulMatVec</a></li>
<li><a class="reference internal" href="#mju-banddiag">mju_bandDiag</a></li>
<li><a class="reference internal" href="#mju-eig3">mju_eig3</a></li>
<li><a class="reference internal" href="#mju-boxqp">mju_boxQP</a></li>
<li><a class="reference internal" href="#mju-boxqpmalloc">mju_boxQPmalloc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#miscellaneous">Miscellaneous</a><ul>
<li><a class="reference internal" href="#mju-musclegain">mju_muscleGain</a></li>
<li><a class="reference internal" href="#mju-musclebias">mju_muscleBias</a></li>
<li><a class="reference internal" href="#mju-muscledynamics">mju_muscleDynamics</a></li>
<li><a class="reference internal" href="#mju-encodepyramid">mju_encodePyramid</a></li>
<li><a class="reference internal" href="#mju-decodepyramid">mju_decodePyramid</a></li>
<li><a class="reference internal" href="#mju-springdamper">mju_springDamper</a></li>
<li><a class="reference internal" href="#mju-min">mju_min</a></li>
<li><a class="reference internal" href="#mju-max">mju_max</a></li>
<li><a class="reference internal" href="#mju-clip">mju_clip</a></li>
<li><a class="reference internal" href="#mju-sign">mju_sign</a></li>
<li><a class="reference internal" href="#mju-round">mju_round</a></li>
<li><a class="reference internal" href="#mju-type2str">mju_type2Str</a></li>
<li><a class="reference internal" href="#mju-str2type">mju_str2Type</a></li>
<li><a class="reference internal" href="#mju-writenumbytes">mju_writeNumBytes</a></li>
<li><a class="reference internal" href="#mju-warningtext">mju_warningText</a></li>
<li><a class="reference internal" href="#mju-isbad">mju_isBad</a></li>
<li><a class="reference internal" href="#mju-iszero">mju_isZero</a></li>
<li><a class="reference internal" href="#mju-standardnormal">mju_standardNormal</a></li>
<li><a class="reference internal" href="#mju-f2n">mju_f2n</a></li>
<li><a class="reference internal" href="#mju-n2f">mju_n2f</a></li>
<li><a class="reference internal" href="#mju-d2n">mju_d2n</a></li>
<li><a class="reference internal" href="#mju-n2d">mju_n2d</a></li>
<li><a class="reference internal" href="#mju-insertionsort">mju_insertionSort</a></li>
<li><a class="reference internal" href="#mju-insertionsortint">mju_insertionSortInt</a></li>
<li><a class="reference internal" href="#mju-halton">mju_Halton</a></li>
<li><a class="reference internal" href="#mju-strncpy">mju_strncpy</a></li>
<li><a class="reference internal" href="#mju-sigmoid">mju_sigmoid</a></li>
</ul>
</li>
<li><a class="reference internal" href="#derivatives">Derivatives</a><ul>
<li><a class="reference internal" href="#mjd-transitionfd">mjd_transitionFD</a></li>
<li><a class="reference internal" href="#mjd-inversefd">mjd_inverseFD</a></li>
<li><a class="reference internal" href="#mjd-subquat">mjd_subQuat</a></li>
<li><a class="reference internal" href="#mjd-quatintegrate">mjd_quatIntegrate</a></li>
</ul>
</li>
<li><a class="reference internal" href="#plugins">Plugins</a><ul>
<li><a class="reference internal" href="#mjp-defaultplugin">mjp_defaultPlugin</a></li>
<li><a class="reference internal" href="#mjp-registerplugin">mjp_registerPlugin</a></li>
<li><a class="reference internal" href="#mjp-plugincount">mjp_pluginCount</a></li>
<li><a class="reference internal" href="#mjp-getplugin">mjp_getPlugin</a></li>
<li><a class="reference internal" href="#mjp-getpluginatslot">mjp_getPluginAtSlot</a></li>
<li><a class="reference internal" href="#mjp-defaultresourceprovider">mjp_defaultResourceProvider</a></li>
<li><a class="reference internal" href="#mjp-registerresourceprovider">mjp_registerResourceProvider</a></li>
<li><a class="reference internal" href="#mjp-resourceprovidercount">mjp_resourceProviderCount</a></li>
<li><a class="reference internal" href="#mjp-getresourceprovider">mjp_getResourceProvider</a></li>
<li><a class="reference internal" href="#mjp-getresourceprovideratslot">mjp_getResourceProviderAtSlot</a></li>
</ul>
</li>
<li><a class="reference internal" href="#macros">Macros</a><ul>
<li><a class="reference internal" href="#mjmarkstack">mjMARKSTACK</a></li>
<li><a class="reference internal" href="#mjfreestack">mjFREESTACK</a></li>
<li><a class="reference internal" href="#mjdisabled">mjDISABLED</a></li>
<li><a class="reference internal" href="#mjenabled">mjENABLED</a></li>
<li><a class="reference internal" href="#mjmax">mjMAX</a></li>
<li><a class="reference internal" href="#mjmin">mjMIN</a></li>
<li><a class="reference internal" href="#mjplugin-lib-init">mjPLUGIN_LIB_INIT</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/katex.min.js"></script>
    <script src="../_static/auto-render.min.js"></script>
    <script src="../_static/katex_autorenderer.js"></script>
    </body>
</html>